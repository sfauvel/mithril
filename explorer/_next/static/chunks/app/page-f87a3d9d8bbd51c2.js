(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5951:function(e,t,n){"use strict";e.exports=n.p+"static/media/index_bg.dc008062.wasm"},80:function(e,t,n){Promise.resolve().then(n.bind(n,6900))},3471:function(e,t,n){"use strict";let r;n.d(t,{SJ:function(){return y}}),e=n.hmd(e);let i=Array(128).fill(void 0);i.push(void 0,null,!0,!1);let a=0,s=null;function c(){return(null===s||0===s.byteLength)&&(s=new Uint8Array(r.memory.buffer)),s}let l="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},o="function"==typeof l.encodeInto?function(e,t){return l.encodeInto(e,t)}:function(e,t){let n=l.encode(e);return t.set(n),{read:e.length,written:n.length}};function d(e,t,n){if(void 0===n){let n=l.encode(e),r=t(n.length,1)>>>0;return c().subarray(r,r+n.length).set(n),a=n.length,r}let r=e.length,i=t(r,1)>>>0,s=c(),d=0;for(;d<r;d++){let t=e.charCodeAt(d);if(t>127)break;s[i+d]=t}if(d!==r){0!==d&&(e=e.slice(d)),i=n(i,r,r=d+3*e.length,1)>>>0;let t=o(e,c().subarray(i+d,i+r));d+=t.written}return a=d,i}function u(e){return null==e}let g=null;function _(){return(null===g||0===g.byteLength)&&(g=new Int32Array(r.memory.buffer)),g}let h=i.length;function f(e){let t=i[e];return e<132||(i[e]=h,h=e),t}function b(e){h===i.length&&i.push(i.length+1);let t=h;return h=i[t],i[t]=e,t}let w="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};function x(e,t){return e>>>=0,w.decode(c().subarray(e,e+t))}"undefined"!=typeof TextDecoder&&w.decode();let m=null,j=null;function p(e,t,n){r._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h0aaf6ffb8748d22a(e,t,b(n))}function v(e,t){try{return e.apply(this,t)}catch(e){r.__wbindgen_exn_store(b(e))}}class y{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){let e=this.__destroy_into_raw();r.__wbg_mithrilclient_free(e)}get_snapshot(e){let t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=a;return f(r.mithrilclient_get_snapshot(this.__wbg_ptr,t,n))}list_snapshots(){return f(r.mithrilclient_list_snapshots(this.__wbg_ptr))}get_mithril_stake_distribution(e){let t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=a;return f(r.mithrilclient_get_mithril_stake_distribution(this.__wbg_ptr,t,n))}list_mithril_stake_distributions(){return f(r.mithrilclient_list_mithril_stake_distributions(this.__wbg_ptr))}compute_mithril_stake_distribution_message(e){return f(r.mithrilclient_compute_mithril_stake_distribution_message(this.__wbg_ptr,b(e)))}verify_message_match_certificate(e,t){return f(r.mithrilclient_verify_message_match_certificate(this.__wbg_ptr,b(e),b(t)))}get_mithril_certificate(e){let t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=a;return f(r.mithrilclient_get_mithril_certificate(this.__wbg_ptr,t,n))}list_mithril_certificates(){return f(r.mithrilclient_list_mithril_certificates(this.__wbg_ptr))}verify_certificate_chain(e){let t=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=a;return f(r.mithrilclient_verify_certificate_chain(this.__wbg_ptr,t,n))}constructor(e,t){let n=d(e,r.__wbindgen_malloc,r.__wbindgen_realloc),i=a,s=d(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=a,l=r.mithrilclient_new(n,i,s,c);return this.__wbg_ptr=l>>>0,this}}async function Z(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"!=e.headers.get("Content-Type"))console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}async function k(t){if(void 0!==r)return r;void 0===t&&(t=new n.U(n(5951)));let c=function(){let t={};return t.wbg={},t.wbg.__wbindgen_string_get=function(e,t){let n=i[t],s="string"==typeof n?n:void 0;var c=u(s)?0:d(s,r.__wbindgen_malloc,r.__wbindgen_realloc),l=a;_()[e/4+1]=l,_()[e/4+0]=c},t.wbg.__wbindgen_object_drop_ref=function(e){f(e)},t.wbg.__wbindgen_is_bigint=function(e){return"bigint"==typeof i[e]},t.wbg.__wbindgen_bigint_from_u64=function(e){return b(BigInt.asUintN(64,e))},t.wbg.__wbindgen_jsval_eq=function(e,t){return i[e]===i[t]},t.wbg.__wbindgen_error_new=function(e,t){return b(Error(x(e,t)))},t.wbg.__wbindgen_is_string=function(e){return"string"==typeof i[e]},t.wbg.__wbindgen_is_object=function(e){let t=i[e];return"object"==typeof t&&null!==t},t.wbg.__wbindgen_is_undefined=function(e){return void 0===i[e]},t.wbg.__wbindgen_in=function(e,t){return i[e]in i[t]},t.wbg.__wbindgen_number_get=function(e,t){let n=i[t],a="number"==typeof n?n:void 0;((null===m||0===m.byteLength)&&(m=new Float64Array(r.memory.buffer)),m)[e/8+1]=u(a)?0:a,_()[e/4+0]=!u(a)},t.wbg.__wbindgen_string_new=function(e,t){return b(x(e,t))},t.wbg.__wbindgen_as_number=function(e){return+i[e]},t.wbg.__wbindgen_object_clone_ref=function(e){return b(i[e])},t.wbg.__wbindgen_jsval_loose_eq=function(e,t){return i[e]==i[t]},t.wbg.__wbindgen_boolean_get=function(e){let t=i[e];return"boolean"==typeof t?t?1:0:2},t.wbg.__wbindgen_number_new=function(e){return b(e)},t.wbg.__wbg_getwithrefkey_4a92a5eca60879b9=function(e,t){return b(i[e][i[t]])},t.wbg.__wbg_set_9182712abebf82ef=function(e,t,n){i[e][f(t)]=f(n)},t.wbg.__wbindgen_cb_drop=function(e){let t=f(e).original;return 1==t.cnt--&&(t.a=0,!0)},t.wbg.__wbg_crypto_d05b68a3572bb8ca=function(e){return b(i[e].crypto)},t.wbg.__wbg_process_b02b3570280d0366=function(e){return b(i[e].process)},t.wbg.__wbg_versions_c1cb42213cedf0f5=function(e){return b(i[e].versions)},t.wbg.__wbg_node_43b1089f407e4ec2=function(e){return b(i[e].node)},t.wbg.__wbg_msCrypto_10fc94afee92bd76=function(e){return b(i[e].msCrypto)},t.wbg.__wbg_require_9a7e0f667ead4995=function(){return v(function(){return b(e.require)},arguments)},t.wbg.__wbindgen_is_function=function(e){return"function"==typeof i[e]},t.wbg.__wbg_randomFillSync_b70ccbdf4926a99d=function(){return v(function(e,t){i[e].randomFillSync(f(t))},arguments)},t.wbg.__wbg_getRandomValues_7e42b4fb8779dc6d=function(){return v(function(e,t){i[e].getRandomValues(i[t])},arguments)},t.wbg.__wbg_fetch_6a2624d7f767e331=function(e){return b(fetch(i[e]))},t.wbg.__wbg_respond_8fadc5f5c9d95422=function(e,t){i[e].respond(t>>>0)},t.wbg.__wbg_byobRequest_08c18cee35def1f4=function(e){let t=i[e].byobRequest;return u(t)?0:b(t)},t.wbg.__wbg_view_231340b0dd8a2484=function(e){let t=i[e].view;return u(t)?0:b(t)},t.wbg.__wbg_close_e9110ca16e2567db=function(e){i[e].close()},t.wbg.__wbg_enqueue_d71a1a518e21f5c3=function(e,t){i[e].enqueue(i[t])},t.wbg.__wbg_close_da7e6fb9d9851e5a=function(e){i[e].close()},t.wbg.__wbg_buffer_4e79326814bdd393=function(e){return b(i[e].buffer)},t.wbg.__wbg_byteOffset_b69b0a07afccce19=function(e){return i[e].byteOffset},t.wbg.__wbg_byteLength_5299848ed3264181=function(e){return i[e].byteLength},t.wbg.__wbg_queueMicrotask_118eeb525d584d9a=function(e){queueMicrotask(i[e])},t.wbg.__wbg_queueMicrotask_26a89c14c53809c0=function(e){return b(i[e].queueMicrotask)},t.wbg.__wbg_fetch_06d656a1b748ac0d=function(e,t){return b(i[e].fetch(i[t]))},t.wbg.__wbg_newwithstrandinit_9fd2fc855c6327eb=function(){return v(function(e,t,n){return b(new Request(x(e,t),i[n]))},arguments)},t.wbg.__wbg_signal_7876560d9d0f914c=function(e){return b(i[e].signal)},t.wbg.__wbg_new_fa36281638875de8=function(){return v(function(){return b(new AbortController)},arguments)},t.wbg.__wbg_abort_7792bf3f664d7bb3=function(e){i[e].abort()},t.wbg.__wbg_new_2e0fea336a092abc=function(){return v(function(e,t){return b(new BroadcastChannel(x(e,t)))},arguments)},t.wbg.__wbg_postMessage_779d4e33483c4cb0=function(){return v(function(e,t){i[e].postMessage(i[t])},arguments)},t.wbg.__wbg_instanceof_Response_0d25bb8436a9cefe=function(e){let t;try{t=i[e]instanceof Response}catch(e){t=!1}return t},t.wbg.__wbg_url_47f8307501523859=function(e,t){let n=d(i[t].url,r.__wbindgen_malloc,r.__wbindgen_realloc),s=a;_()[e/4+1]=s,_()[e/4+0]=n},t.wbg.__wbg_status_351700a30c61ba61=function(e){return i[e].status},t.wbg.__wbg_headers_e38c00d713e8888c=function(e){return b(i[e].headers)},t.wbg.__wbg_text_10c88c5e55f873c7=function(){return v(function(e){return b(i[e].text())},arguments)},t.wbg.__wbg_new_a979e9eedc5e81a3=function(){return v(function(){return b(new Headers)},arguments)},t.wbg.__wbg_append_047382169b61373d=function(){return v(function(e,t,n,r,a){i[e].append(x(t,n),x(r,a))},arguments)},t.wbg.__wbg_get_c43534c00f382c8a=function(e,t){return b(i[e][t>>>0])},t.wbg.__wbg_length_d99b680fd68bf71b=function(e){return i[e].length},t.wbg.__wbg_new_34c624469fb1d4fd=function(){return b([])},t.wbg.__wbg_newnoargs_5859b6d41c6fe9f7=function(e,t){return b(Function(x(e,t)))},t.wbg.__wbg_new_ad4df4628315a892=function(){return b(new Map)},t.wbg.__wbg_next_1938cf110c9491d4=function(e){return b(i[e].next)},t.wbg.__wbg_next_267398d0e0761bf9=function(){return v(function(e){return b(i[e].next())},arguments)},t.wbg.__wbg_done_506b44765ba84b9c=function(e){return i[e].done},t.wbg.__wbg_value_31485d8770eb06ab=function(e){return b(i[e].value)},t.wbg.__wbg_iterator_364187e1ee96b750=function(){return b(Symbol.iterator)},t.wbg.__wbg_get_5027b32da70f39b1=function(){return v(function(e,t){return b(Reflect.get(i[e],i[t]))},arguments)},t.wbg.__wbg_call_a79f1973a4f07d5e=function(){return v(function(e,t){return b(i[e].call(i[t]))},arguments)},t.wbg.__wbg_new_87d841e70661f6e9=function(){return b({})},t.wbg.__wbg_self_086b5302bcafb962=function(){return v(function(){return b(self.self)},arguments)},t.wbg.__wbg_window_132fa5d7546f1de5=function(){return v(function(){return b(window.window)},arguments)},t.wbg.__wbg_globalThis_e5f801a37ad7d07b=function(){return v(function(){return b(globalThis.globalThis)},arguments)},t.wbg.__wbg_global_f9a61fce4af6b7c1=function(){return v(function(){return b(n.g.global)},arguments)},t.wbg.__wbg_set_379b27f1d5f1bf9c=function(e,t,n){i[e][t>>>0]=f(n)},t.wbg.__wbg_isArray_fbd24d447869b527=function(e){return Array.isArray(i[e])},t.wbg.__wbg_instanceof_ArrayBuffer_f4521cec1b99ee35=function(e){let t;try{t=i[e]instanceof ArrayBuffer}catch(e){t=!1}return t},t.wbg.__wbg_new_3a66822ed076951c=function(e,t){return b(Error(x(e,t)))},t.wbg.__wbg_call_f6a2bc58c19c53c6=function(){return v(function(e,t,n){return b(i[e].call(i[t],i[n]))},arguments)},t.wbg.__wbg_set_83e83bc2428e50ab=function(e,t,n){return b(i[e].set(i[t],i[n]))},t.wbg.__wbg_isSafeInteger_d8c89788832a17bf=function(e){return Number.isSafeInteger(i[e])},t.wbg.__wbg_entries_7a47f5716366056b=function(e){return b(Object.entries(i[e]))},t.wbg.__wbg_new_1d93771b84541aa5=function(e,t){try{var n={a:e,b:t};let i=new Promise((e,t)=>{let i=n.a;n.a=0;try{var a;return a=n.b,void r.wasm_bindgen__convert__closures__invoke2_mut__h3cad235cb76bdcf2(i,a,b(e),b(t))}finally{n.a=i}});return b(i)}finally{n.a=n.b=0}},t.wbg.__wbg_resolve_97ecd55ee839391b=function(e){return b(Promise.resolve(i[e]))},t.wbg.__wbg_then_7aeb7c5f1536640f=function(e,t){return b(i[e].then(i[t]))},t.wbg.__wbg_then_5842e4e97f7beace=function(e,t,n){return b(i[e].then(i[t],i[n]))},t.wbg.__wbg_buffer_5d1b598a01b41a42=function(e){return b(i[e].buffer)},t.wbg.__wbg_newwithbyteoffsetandlength_d695c7957788f922=function(e,t,n){return b(new Uint8Array(i[e],t>>>0,n>>>0))},t.wbg.__wbg_new_ace717933ad7117f=function(e){return b(new Uint8Array(i[e]))},t.wbg.__wbg_set_74906aa30864df5a=function(e,t,n){i[e].set(i[t],n>>>0)},t.wbg.__wbg_length_f0764416ba5bb237=function(e){return i[e].length},t.wbg.__wbg_instanceof_Uint8Array_4f5cffed7df34b2f=function(e){let t;try{t=i[e]instanceof Uint8Array}catch(e){t=!1}return t},t.wbg.__wbg_newwithlength_728575f3bba9959b=function(e){return b(new Uint8Array(e>>>0))},t.wbg.__wbg_subarray_7f7a652672800851=function(e,t,n){return b(i[e].subarray(t>>>0,n>>>0))},t.wbg.__wbg_stringify_daa6661e90c04140=function(){return v(function(e){return b(JSON.stringify(i[e]))},arguments)},t.wbg.__wbg_has_a2919659b7b645b3=function(){return v(function(e,t){return Reflect.has(i[e],i[t])},arguments)},t.wbg.__wbg_set_37a50e901587b477=function(){return v(function(e,t,n){return Reflect.set(i[e],i[t],i[n])},arguments)},t.wbg.__wbindgen_bigint_get_as_i64=function(e,t){let n=i[t],a="bigint"==typeof n?n:void 0;((null===j||0===j.byteLength)&&(j=new BigInt64Array(r.memory.buffer)),j)[e/8+1]=u(a)?BigInt(0):a,_()[e/4+0]=!u(a)},t.wbg.__wbindgen_debug_string=function(e,t){let n=d(function e(t){let n;let r=typeof t;if("number"==r||"boolean"==r||null==t)return"".concat(t);if("string"==r)return'"'.concat(t,'"');if("symbol"==r){let e=t.description;return null==e?"Symbol":"Symbol(".concat(e,")")}if("function"==r){let e=t.name;return"string"==typeof e&&e.length>0?"Function(".concat(e,")"):"Function"}if(Array.isArray(t)){let n=t.length,r="[";n>0&&(r+=e(t[0]));for(let i=1;i<n;i++)r+=", "+e(t[i]);return r+"]"}let i=/\[object ([^\]]+)\]/.exec(toString.call(t));if(!(i.length>1))return toString.call(t);if("Object"==(n=i[1]))try{return"Object("+JSON.stringify(t)+")"}catch(e){return"Object"}return t instanceof Error?"".concat(t.name,": ").concat(t.message,"\n").concat(t.stack):n}(i[t]),r.__wbindgen_malloc,r.__wbindgen_realloc),s=a;_()[e/4+1]=s,_()[e/4+0]=n},t.wbg.__wbindgen_throw=function(e,t){throw Error(x(e,t))},t.wbg.__wbindgen_memory=function(){return b(r.memory)},t.wbg.__wbindgen_closure_wrapper3275=function(e,t,n){return b(function(e,t,n,i){let a={a:e,b:t,cnt:1,dtor:1833},s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];a.cnt++;let s=a.a;a.a=0;try{return i(s,a.b,...t)}finally{0==--a.cnt?r.__wbindgen_export_2.get(a.dtor)(s,a.b):a.a=s}};return s.original=a,s}(e,t,0,p))},t}();("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));let{instance:l,module:o}=await Z(await t,c);return r=l.exports,k.__wbindgen_wasm_module=o,j=null,m=null,g=null,s=null,r}t.ZP=k},1487:function(e,t,n){"use strict";t.Z=["https://aggregator.release-mainnet.api.mithril.network/aggregator","https://aggregator.release-preprod.api.mithril.network/aggregator","https://aggregator.pre-release-preview.api.mithril.network/aggregator","https://aggregator.testing-preview.api.mithril.network/aggregator","https://aggregator.testing-sanchonet.api.mithril.network/aggregator","http://localhost:8080/aggregator"]},6900:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Y}});var r=n(3827),i=n(4090),a=n(828),s=n(7907),c=n(4232),l=n(5900),o=n(1619),d=n(5914),u=n(590),g=n(2234),_=n(1497),h=n(6136),f=n(7753),b=n(6459),w=n(6879),x=n(2389),m=n(5097),j=n(1355),p=n(8826),v=n(6042),y=n(1196),Z=n(9792),k=n(5047),S=n(825),I=n(9957);function N(e){let{protocolParameters:t,...n}=e;return(0,r.jsxs)(x.Z,{horizontal:!0,...n,children:[(0,r.jsxs)(x.Z.Item,{children:[(0,r.jsx)("em",{children:"k:"})," ",null==t?void 0:t.k]}),(0,r.jsxs)(x.Z.Item,{children:[(0,r.jsx)("em",{children:"m:"})," ",null==t?void 0:t.m]}),(0,r.jsxs)(x.Z.Item,{children:[(0,r.jsx)("em",{children:"f:"})," ",null==t?void 0:t.phi_f]})]})}var A=n(7898),C=n(477),E=n(3471);function F(e){let{datetime:t}=e;return(0,r.jsx)(r.Fragment,{children:new Date(t).toLocaleString()})}var B=n(7019);function M(e){let{show:t,onClose:n,certificateHash:s}=e,c=(0,a.v9)(e=>e.settings.selectedAggregator),[l,o]=(0,i.useState)(!1),[d,u]=(0,i.useState)(null),[g,_]=(0,i.useState)(null),[h,f]=(0,i.useState)(!1);async function b(){await (0,E.ZP)();let e=await w();return new E.SJ(c,e)}async function w(){try{let e=(0,B.computeAggregatorNetworkFromUrl)(c),t=await fetch("https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/"+e+"/genesis.vkey");if(!t.ok)throw Error("Failed to fetch the genesis verification key. Status: ".concat(t.status));return await t.text()}catch(e){throw console.error("Error fetching genesis verification key:",e.message),e}}function x(e){let t=e.data;"CertificateChainValidationStarted"===t.type?m("The certificate chain validation has started..."):"CertificateValidated"===t.type?m("A certificate has been validated, hash: <strong>"+t.payload.certificate_hash+"<strong>"):"CertificateChainValidated"===t.type?m("<strong>The certificate chain is valid ✅<strong>"):m(t)}function m(e){let t=document.createElement("div");t.innerHTML=e;let n=document.getElementById("mithril-events");n&&(n.appendChild(t),n.scrollTop=n.scrollHeight)}return(0,i.useEffect)(()=>{async function e(){try{let e=await b();if(null!=s){let t=performance.now(),n=await e.get_mithril_certificate(s);u(n),await e.verify_certificate_chain(s),_((0,B.formatProcessDuration)(t))}}catch(e){console.error("Error:",e)}finally{o(!1)}}let n=new BroadcastChannel("mithril-client");return n.onmessage=x,s&&t?(o(!0),e()):(u(null),o(!1)),()=>{n.onmessage=null}},[t]),(0,r.jsxs)(j.Z,{show:t,onHide:()=>{l?f(!0):n()},size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,r.jsx)(j.Z.Header,{closeButton:!0,children:(0,r.jsx)(j.Z.Title,{children:"Verify certificate"})}),(0,r.jsxs)(j.Z.Body,{children:[h&&l&&(0,r.jsx)("div",{className:"alert alert-warning",role:"alert",children:"Verification is in progress. Please wait until the process is complete (less than a minute)."}),d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h4",{children:"Certificate Details"}),(0,r.jsxs)("div",{children:["Certificate hash: ",d.hash]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,r.jsxs)("div",{children:["Sealed at: ",(0,r.jsx)(F,{datetime:d.metadata.sealed_at})]}),l?(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,r.jsx)("div",{style:{marginLeft:"10px",paddingRight:"10px"},children:"Verifying the certificate chain..."}),(0,r.jsx)(C.Z,{animation:"border",variant:"primary"})]}):(0,r.jsxs)("div",{style:{marginLeft:"10px",paddingRight:"10px"},children:["Verification duration: ",g]})]}),(0,r.jsx)("hr",{}),(0,r.jsx)("div",{children:(0,r.jsx)("div",{id:"mithril-events",style:{height:"400px",maxHeight:"400px",overflowY:"auto",marginTop:"10px"}})})]})]}),(0,r.jsx)(j.Z.Footer,{})]})}function T(e){var t,n;let[s,c]=(0,i.useState)({}),[l,o]=(0,i.useState)({stakesBreakdown:{}}),[g,_]=(0,i.useState)(!1),h=(0,a.v9)(t=>"".concat((0,k.k6)(t),"/certificate/").concat(e.hash)),b=(0,a.v9)(k.k6);return(0,i.useEffect)(()=>{e.hash&&fetch(h).then(e=>200===e.status?e.json():{}).then(e=>{c(e),o({stakesBreakdown:(0,Z.Q2)(e.metadata.signers)})}).catch(e=>{c({}),console.error("Fetch certificate error:",e)})},[h,e.hash]),(0,r.jsxs)(j.Z,{show:void 0!==e.hash,onHide:function(){e.onHashChange(void 0)},size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,r.jsx)(j.Z.Header,{className:"text-break",closeButton:!0,children:(0,r.jsxs)(j.Z.Title,{id:"contained-modal-title-vcenter",children:["Certificate ",s.hash]})}),(0,r.jsx)(j.Z.Body,{children:0===Object.entries(s).length?(0,r.jsx)("p",{children:"Not found"}):(0,r.jsxs)(f.Z,{children:[(0,r.jsxs)(d.Z,{md:1,xl:"auto",children:[(0,r.jsxs)(u.Z,{xl:4,className:"mb-3",children:[(0,r.jsx)("h4",{children:"Beacon"}),(0,r.jsx)(p.Z,{className:"mb-3",children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("em",{children:"Network:"})}),(0,r.jsx)("td",{children:s.beacon.network})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("em",{children:"Epoch:"})}),(0,r.jsx)("td",{children:s.beacon.epoch})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("em",{children:"Immutable File Number:"})}),(0,r.jsx)("td",{children:s.beacon.immutable_file_number})]})]})}),(0,r.jsx)("h4",{children:"Protocol Parameters"}),(0,r.jsx)(N,{className:"mb-3",protocolParameters:s.metadata.parameters}),(0,r.jsx)("h4",{children:"Statistics"}),(0,r.jsx)(p.Z,{className:"mb-0",children:(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("em",{children:"Number of signers:"})}),(0,r.jsx)("td",{children:null!==(t=null==s?void 0:s.metadata.signers.length)&&void 0!==t?t:0})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("em",{children:"Total stakes:"})}),(0,r.jsx)("td",{children:(0,r.jsx)(I.Z,{lovelace:null!==(n=null==s?void 0:s.metadata.signers.reduce((e,t)=>e+t.stake,0))&&void 0!==n?n:0})})]})]})})]}),(0,r.jsx)(u.Z,{xl:8,className:"mb-1",children:""!==s.genesis_signature?(0,r.jsxs)("div",{children:["This is the chain"," ",(0,r.jsx)("em",{children:(0,r.jsx)("strong",{children:"Genesis Certificate"})}),", since it's manually created it doesn't contain any Signers."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h4",{children:"Stakes breakdown"}),(0,r.jsx)(y.$Q,{data:l.stakesBreakdown})]})})]}),(0,r.jsx)(d.Z,{children:""===s.genesis_signature&&(0,r.jsx)(v.Z,{children:(0,r.jsxs)(v.Z.Item,{eventKey:"signers",children:[(0,r.jsx)(v.Z.Header,{children:(0,r.jsx)("h4",{children:"Signers"})}),(0,r.jsx)(v.Z.Body,{children:0===s.metadata.signers.length?(0,r.jsx)("div",{children:"No Signers for this certificate, something went wrong either with the data retrieval or the signing process"}):(0,r.jsx)(A.Z,{signers:s.metadata.signers,aggregator:b})})]})})})]})}),(0,r.jsxs)(j.Z.Footer,{children:[(0,r.jsx)(w.Z,{size:"sm",onClick:()=>{_(!0)},className:"text-break",children:"Verify certificate"}),""!==s.genesis_signature?(0,r.jsx)(m.Z,{bg:"warning",children:"Genesis"}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(w.Z,{size:"sm",onClick:function(){e.onHashChange(s.previous_hash)},className:"text-break",children:["Previous hash: ",s.previous_hash]})}),(0,r.jsx)(S.Z,{href:h,size:"sm"})]}),(0,r.jsx)(M,{show:g,onClose:()=>_(!1),certificateHash:s.hash})]})}function P(e){let[t,n]=(0,i.useState)([]),[s,c]=(0,i.useState)(void 0),o=(0,a.v9)(k.k6),g=(0,a.v9)(e=>"".concat((0,k.k6)(e),"/certificates")),_=(0,a.v9)(e=>e.settings.autoUpdate),h=(0,a.v9)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{if(!_)return;let e=()=>{fetch(g).then(e=>e.json()).then(e=>n(e)).catch(e=>{n([]),console.error("Fetch certificates error:",e)})};e();let t=setInterval(e,h);return()=>clearInterval(t)},[g,h,_]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T,{hash:s,onHashChange:function(e){c(e)}}),(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsxs)("h2",{children:["Certificates"," ",(0,r.jsx)(S.Z,{href:g,variant:"outline-light",size:"sm"})]}),0===Object.entries(t).length?(0,r.jsx)("p",{children:"No certificate available"}):(0,r.jsx)(f.Z,{fluid:!0,children:(0,r.jsx)(d.Z,{xs:1,md:2,lg:3,xl:4,children:t.map((e,t)=>(0,r.jsx)(u.Z,{className:"mb-2",children:(0,r.jsxs)(b.Z,{border:0===t?"primary":"",children:[(0,r.jsxs)(b.Z.Body,{children:[(0,r.jsxs)(b.Z.Title,{children:[e.hash," ",(0,r.jsx)(w.Z,{size:"sm",onClick:()=>{c(e.hash)},children:"Details"})]}),(0,r.jsxs)(x.Z,{variant:"flush",className:"data-list-group",children:[(0,r.jsxs)(x.Z.Item,{children:["Parent hash: ",e.previous_hash," ",(0,r.jsx)(w.Z,{size:"sm",onClick:()=>{c(e.previous_hash)},children:"Show"})]}),(0,r.jsxs)(x.Z.Item,{children:["Epoch: ",e.beacon.epoch]}),(0,r.jsxs)(x.Z.Item,{children:["Immutable file number: ",e.beacon.immutable_file_number]}),(0,r.jsxs)(x.Z.Item,{children:["Number of signers: ",e.metadata.total_signers]}),(0,r.jsxs)(x.Z.Item,{children:["Initiated at:"," ",(0,r.jsx)(F,{datetime:e.metadata.initiated_at})]}),(0,r.jsxs)(x.Z.Item,{children:["Sealed at: ",(0,r.jsx)(F,{datetime:e.metadata.sealed_at})]})]})]}),(0,r.jsx)(b.Z.Footer,{children:(0,r.jsxs)(l.Z,{direction:"horizontal",gap:1,children:[0===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z,{bg:"primary",children:"Latest"})," "]}),(0,r.jsx)(m.Z,{bg:"secondary",children:e.beacon.network}),(0,r.jsx)(S.Z,{href:"".concat(o,"/certificate/").concat(e.hash),size:"sm",className:"ms-auto"})]})})]})},e.hash))})})]})]})}var U=n(1860);function R(e){let[t,n]=(0,i.useState)({}),s=(0,a.v9)(e=>e.settings.selectedAggregator),c=(0,a.v9)(e=>"".concat((0,k.k6)(e),"/epoch-settings")),l=(0,a.v9)(e=>e.settings.autoUpdate),o=(0,a.v9)(e=>e.settings.updateInterval),[d,u]=(0,i.useState)(void 0);return(0,i.useEffect)(()=>{if(!l)return;let e=()=>{fetch(c).then(e=>200===e.status?e.json():{}).then(e=>n(e)).catch(e=>{n({}),console.error("Fetch epoch-settings error:",e)})};e();let t=setInterval(e,o);return()=>clearInterval(t)},[c,o,l]),(0,i.useEffect)(()=>{if((0,B.checkUrl)(s)&&Number.isInteger(null==t?void 0:t.epoch)){let e=new URLSearchParams;e.set("aggregator",s),e.set("epoch",t.epoch),u("/registrations?".concat(e.toString()))}},[s,t]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{children:["Epoch Settings",(0,r.jsx)(S.Z,{href:c,variant:"outline-light",size:"sm"})]}),(0,r.jsxs)(b.Z,{children:[(0,r.jsxs)(b.Z.Body,{children:[(0,r.jsx)(b.Z.Title,{children:"Current Epoch"}),(0,r.jsx)("div",{className:"mb-2 ps-3",children:t.epoch}),(0,r.jsx)(b.Z.Title,{children:"Protocol Parameters"}),(0,r.jsx)(N,{className:"mb-2",protocolParameters:t.protocol}),(0,r.jsx)(b.Z.Title,{children:"Next Protocol Parameters"}),(0,r.jsx)(N,{protocolParameters:t.next_protocol})]}),d&&(0,r.jsx)(b.Z.Footer,{className:"text-center",children:(0,r.jsx)(U.Z,{href:d,children:"Registered Signers"})})]})]})}var z=n(9183),L=n(4171),O=n(3800);function D(e){let{signedEntityType:t}=e,[n,a]=(0,i.useState)(""),[s,c]=(0,i.useState)({});return(0,i.useEffect)(()=>{let e=Object.keys(t).at(0);if(a(e),"MithrilStakeDistribution"===e||"CardanoStakeDistribution"===e)c({epoch:t[e]});else{var n;c(null!==(n=t[e])&&void 0!==n?n:{})}},[t]),(0,r.jsxs)(x.Z,{children:[(0,r.jsx)(x.Z.Item,{children:(0,r.jsx)("h6",{children:n})}),(0,r.jsx)(x.Z.Item,{children:(0,r.jsx)(x.Z,{horizontal:"xxl",children:Object.entries(s).map(e=>{let[t,n]=e;return(0,r.jsxs)(x.Z.Item,{children:[t,": ",n]},t)})})})]})}var H=n(657);function q(e){let[t,n]=(0,i.useState)({}),s=(0,a.v9)(e=>"".concat((0,k.k6)(e),"/certificate-pending")),c=(0,a.v9)(k.k6),l=(0,a.v9)(e=>e.settings.autoUpdate),o=(0,a.v9)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{if(!l)return;let e=()=>{fetch(s).then(e=>200===e.status?e.json():{}).then(e=>n(e)).catch(e=>{n({}),console.error("Fetch certificate-pending error:",e)})};e();let t=setInterval(e,o);return()=>clearInterval(t)},[s,o,l]),(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsxs)("h2",{children:["Pending Certificate",0!==Object.entries(t).length&&(0,r.jsx)(S.Z,{href:s,variant:"outline-light",size:"sm"})]}),0===Object.entries(t).length?(0,r.jsx)("p",{children:"No pending certificate available"}):(0,r.jsxs)(z.Z,{children:[(0,r.jsx)(b.Z,{children:(0,r.jsxs)(b.Z.Body,{children:[(0,r.jsx)(b.Z.Title,{children:"Beacon"}),(0,r.jsxs)(x.Z,{className:"mb-2",variant:"flush",children:[(0,r.jsxs)(x.Z.Item,{children:["Network: ",t.beacon.network]}),(0,r.jsxs)(x.Z.Item,{children:["Epoch: ",t.beacon.epoch]})]}),(0,r.jsx)(b.Z.Title,{children:"Entity Type"}),(0,r.jsx)(D,{signedEntityType:t.entity_type})]})}),(0,r.jsx)(b.Z,{children:(0,r.jsx)(b.Z.Body,{children:0===t.signers.length?(0,r.jsx)("div",{children:"No Signers registered"}):(0,r.jsxs)(v.Z,{children:[(0,r.jsxs)(v.Z.Item,{eventKey:"signers",children:[(0,r.jsx)(v.Z.Header,{children:(0,r.jsxs)("h4",{children:["Signers (",t.signers.length,")"]})}),(0,r.jsx)(v.Z.Body,{children:(0,r.jsxs)(x.Z,{variant:"flush",children:[(0,r.jsx)(x.Z.Item,{children:(0,r.jsx)("b",{children:"Pools"})}),t.signers.map(e=>(0,r.jsxs)(x.Z.Item,{children:[(0,r.jsx)(O.Z,{partyId:e.party_id,aggregator:c}),(0,r.jsx)("br",{}),(0,r.jsx)(L.Z,{partyId:e.party_id}),e.verification_key_signature&&(0,r.jsx)("div",{className:"float-end",children:(0,r.jsx)(H.Z,{tooltip:"Verified Signer"})})]},e.party_id))]})})]}),(0,r.jsxs)(v.Z.Item,{eventKey:"next-signers",children:[(0,r.jsx)(v.Z.Header,{children:(0,r.jsxs)("h4",{children:["Next Signers (",t.next_signers.length,")"]})}),(0,r.jsx)(v.Z.Body,{children:(0,r.jsxs)(x.Z,{variant:"flush",children:[(0,r.jsx)(x.Z.Item,{children:(0,r.jsx)("b",{children:"Pools"})}),t.next_signers.map(e=>(0,r.jsxs)(x.Z.Item,{children:[(0,r.jsx)(O.Z,{partyId:e.party_id,aggregator:c}),(0,r.jsx)("br",{}),(0,r.jsx)(L.Z,{partyId:e.party_id}),e.verification_key_signature&&(0,r.jsx)("div",{className:"float-end",children:(0,r.jsx)(H.Z,{tooltip:"Verified Signer"})})]},e.party_id))]})})]})]})})})]})]})}function V(e){let[t,n]=(0,i.useState)([]),[s,c]=(0,i.useState)(void 0),o=(0,a.v9)(k.k6),g=(0,a.v9)(e=>"".concat((0,k.k6)(e),"/artifact/snapshots")),_=(0,a.v9)(e=>e.settings.autoUpdate),h=(0,a.v9)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{if(!_)return;let e=()=>{fetch(g).then(e=>e.json()).then(e=>n(e)).catch(e=>{n([]),console.error("Fetch snapshots error:",e)})};e();let t=setInterval(e,h);return()=>clearInterval(t)},[g,h,_]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T,{hash:s,onHashChange:function(e){c(e)}}),(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsxs)("h2",{children:["Snapshots ",(0,r.jsx)(S.Z,{href:g,variant:"outline-light",size:"sm"})]}),0===Object.entries(t).length?(0,r.jsx)("p",{children:"No snapshot available"}):(0,r.jsx)(f.Z,{fluid:!0,children:(0,r.jsx)(d.Z,{xs:1,md:2,lg:3,xl:4,children:t.map((e,t)=>(0,r.jsx)(u.Z,{className:"mb-2",children:(0,r.jsxs)(b.Z,{border:0===t?"primary":"",children:[(0,r.jsxs)(b.Z.Body,{children:[(0,r.jsx)(b.Z.Title,{children:e.digest}),(0,r.jsxs)(x.Z,{variant:"flush",className:"data-list-group",children:[(0,r.jsxs)(x.Z.Item,{children:["Epoch: ",e.beacon.epoch]}),(0,r.jsxs)(x.Z.Item,{children:["Immutable file number: ",e.beacon.immutable_file_number]}),e.cardano_node_version&&(0,r.jsxs)(x.Z.Item,{children:["Cardano node: ",e.cardano_node_version]}),e.compression_algorithm&&(0,r.jsxs)(x.Z.Item,{children:["Compression: ",e.compression_algorithm]}),(0,r.jsxs)(x.Z.Item,{children:["Certificate hash: ",(0,r.jsx)("br",{}),e.certificate_hash," ",(0,r.jsx)(w.Z,{size:"sm",onClick:()=>{c(e.certificate_hash)},children:"Show"})]}),(0,r.jsxs)(x.Z.Item,{children:["Created: ",(0,r.jsx)(F,{datetime:e.created_at})]}),(0,r.jsxs)(x.Z.Item,{children:["Archive size: ",(0,B.formatBytes)(e.size)]})]})]}),(0,r.jsx)(b.Z.Footer,{children:(0,r.jsxs)(l.Z,{direction:"horizontal",gap:1,children:[0===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z,{bg:"primary",children:"Latest"})," "]}),(0,r.jsx)(m.Z,{bg:"secondary",children:e.beacon.network}),(0,r.jsx)(S.Z,{href:"".concat(o,"/snapshot/").concat(e.digest),size:"sm",className:"ms-auto"})]})})]})},e.digest))})})]})]})}function W(e){let[t,n]=(0,i.useState)([]),[s,c]=(0,i.useState)(void 0),o=(0,a.v9)(k.k6),g=(0,a.v9)(e=>"".concat((0,k.k6)(e),"/artifact/mithril-stake-distributions")),_=(0,a.v9)(e=>e.settings.autoUpdate),h=(0,a.v9)(e=>e.settings.updateInterval);return(0,i.useEffect)(()=>{if(!_)return;let e=()=>{fetch(g).then(e=>e.json()).then(e=>n(e)).catch(e=>{n([]),console.error("Fetch mithrilStakeDistributions error:",e)})};e();let t=setInterval(e,h);return()=>clearInterval(t)},[g,h,_]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T,{aggregator:o,hash:s,onHashChange:function(e){c(e)}}),(0,r.jsxs)("div",{className:e.className,children:[(0,r.jsxs)("h2",{children:["Mithril Stake Distribution"," ",(0,r.jsx)(S.Z,{href:g,variant:"outline-light",size:"sm"})]}),0===Object.entries(t).length?(0,r.jsx)("p",{children:"No mithril stake distribution available"}):(0,r.jsx)(f.Z,{fluid:!0,children:(0,r.jsx)(d.Z,{xs:1,md:2,lg:3,xl:4,children:t.map((e,t)=>(0,r.jsx)(u.Z,{className:"mb-2",children:(0,r.jsxs)(b.Z,{border:0===t?"primary":"",children:[(0,r.jsxs)(b.Z.Body,{children:[(0,r.jsx)(b.Z.Title,{children:e.hash}),(0,r.jsxs)(x.Z,{variant:"flush",className:"data-list-group",children:[(0,r.jsxs)(x.Z.Item,{children:["Epoch: ",e.epoch]}),e.created_at&&(0,r.jsxs)(x.Z.Item,{children:["Created:"," ",(0,r.jsx)(F,{datetime:e.created_at})]}),(0,r.jsxs)(x.Z.Item,{children:["Certificate hash: ",(0,r.jsx)("br",{}),e.certificate_hash," ",(0,r.jsx)(w.Z,{size:"sm",onClick:()=>{c(e.certificate_hash)},children:"Show"})]})]})]}),(0,r.jsx)(b.Z.Footer,{children:(0,r.jsxs)(l.Z,{direction:"horizontal",gap:1,children:[0===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.Z,{bg:"primary",children:"Latest"})," "]}),(0,r.jsx)(S.Z,{href:"".concat(o,"/artifact/mithril-stake-distribution/").concat(e.hash),size:"sm",className:"ms-auto"})]})})]})},e.hash))})})]})]})}var K=n(9064),J=n(7585);let G=(0,c.default)(()=>n.e(633).then(n.bind(n,7633)),{loadableGenerated:{webpack:()=>[7633]},ssr:!1}),Q=(0,c.default)(()=>n.e(396).then(n.bind(n,4396)),{loadableGenerated:{webpack:()=>[4396]},ssr:!1});function Y(){let e=(0,s.useRouter)(),t=(0,s.useSearchParams)(),n=(0,a.I0)(),[c,h]=(0,i.useState)(!1),f=(0,a.v9)(k.k6);return(0,i.useEffect)(()=>{if(f!==t.get(K.W)){let t=new URLSearchParams;t.set("aggregator",f),h(!0),e.push("?"+t.toString(),void 0,{shallow:!0})}n((0,J.Q9)(f))},[f]),(0,i.useEffect)(()=>{!function(){if(c)h(!1);else{let e=t.get("aggregator");n((0,k.VT)(e))}}()},[t]),(0,r.jsxs)(l.Z,{gap:3,children:[(0,r.jsx)(o.Z,{children:(0,r.jsxs)(d.Z,{xs:1,sm:2,className:"row-gap-2",children:[(0,r.jsx)(G,{}),(0,r.jsx)(Q,{})]})}),(0,r.jsxs)(d.Z,{className:"row-gap-3",children:[(0,r.jsx)(u.Z,{xs:12,sm:4,lg:3,xl:2,children:(0,r.jsx)(R,{})}),(0,r.jsx)(u.Z,{xs:12,sm:8,lg:9,xl:10,children:(0,r.jsx)(q,{})})]}),(0,r.jsxs)(g.Z,{defaultActiveKey:"snapshots",children:[(0,r.jsx)(_.Z,{title:"Snapshots",eventKey:"snapshots",children:(0,r.jsx)(V,{})}),(0,r.jsx)(_.Z,{title:"Mithril Stake Distribution",eventKey:"mithrilStakeDistribution",children:(0,r.jsx)(W,{})}),(0,r.jsx)(_.Z,{title:"Certificates",eventKey:"certificates",children:(0,r.jsx)(P,{})})]})]})}h.kL.register(h.qi,h.uw,h.f$,h.ZL,h.Dx,h.u,h.De),(0,Z.hZ)(h.kL)},9792:function(e,t,n){"use strict";n.d(t,{Fw:function(){return a},Q2:function(){return i},hZ:function(){return s}});var r=n(7019);function i(e){let t=e=>e/1e12,n=(null!=e?e:[]).map(e=>t(e.stake));return{labels:["< 1M₳","≥ 1M₳ < 10M₳","≥ 10M₳ < 25M₳","≥ 25M₳ < 50M₳","≥ 50M₳ < 75M₳","≥ 75M₳ < 100M₳","≥ 100M₳"],datasets:[{label:"Number of signers",data:[n.filter(e=>e<1).length,n.filter(e=>e>=1&&e<10).length,n.filter(e=>e>=10&&e<25).length,n.filter(e=>e>=25&&e<50).length,n.filter(e=>e>=50&&e<75).length,n.filter(e=>e>=75&&e<100).length,n.filter(e=>e>100).length]}]}}function a(e){let t=null!=e?e:[];return{labels:t.map(e=>e.party_id),datasets:[{label:"Stake (₳)",data:t.map(e=>(0,r.toAda)(e.stake))}]}}function s(e){let t=["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],n=["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"];e.defaults.plugins.legend.display=!1,e.defaults.elements.arc.backgroundColor=t,e.defaults.elements.arc.borderColor=n,e.defaults.elements.arc.borderWidth=1,e.defaults.elements.bar.backgroundColor=t,e.defaults.elements.bar.borderColor=n,e.defaults.elements.bar.borderWidth=1}},1860:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3827);n(4090);var i=n(8792);function a(e){let{href:t,children:n,className:a,disabled:s,...c}=e;return!0===s?a="".concat(a," disabled"):s=!1,(0,r.jsx)(i.default,{href:t,"aria-disabled":s,className:"btn btn-primary link-underline-opacity-0 link-light ".concat(a),...c,children:n})}},4171:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(3827);n(4090);var i=n(9190),a=n(6767),s=n(6879);function c(e){let{partyId:t}=e;return(0,r.jsxs)("span",{className:"text-break",children:[t,(0,r.jsx)(r.Fragment,{children:" "}),(0,r.jsx)(i.Z,{overlay:(0,r.jsx)(a.Z,{children:"Copy"}),children:(0,r.jsx)(s.Z,{variant:"link",onClick:function(){window.isSecureContext&&t&&navigator.clipboard.writeText(t).then(()=>{})},size:"md",className:"p-0",children:(0,r.jsx)("i",{className:"bi bi-copy",style:{color:"black"}})})})]})}n(7019)},3800:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(3827),i=n(4090),a=n(828),s=n(7585),c=n(7019),l=n(703),o=n(9190),d=n(6767);function u(e){var t;let{aggregator:n,partyId:u,...g}=e,_=(0,a.v9)(e=>(0,s.Mj)(e,n,u)),[h,f]=(0,i.useState)(void 0);return(0,i.useEffect)(()=>{(null==_?void 0:_.network)?f((0,c.getCExplorerUrlForPool)(_.network,u)):f(void 0)},[u,_.network]),void 0!==h?(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("a",{href:h,target:"_blank",className:"link-dark link-underline-light",children:(0,r.jsx)(o.Z,{overlay:(0,r.jsx)(d.Z,{children:"See in CExplorer"}),children:(0,r.jsxs)("span",{children:[(0,r.jsx)(l.default,{src:"/explorer/cexplorer_logo.png",alt:"CExplorer Logo",style:{verticalAlign:"text-top"},width:20,height:20}),(0,r.jsx)(r.Fragment,{children:" "}),null!==(t=_.pool_ticker)&&void 0!==t?t:"Not available"]})})})}):(0,r.jsx)("span",{children:_.pool_ticker})}},825:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(3827);n(4090);var i=n(9190),a=n(6767),s=n(6879);function c(e){return(0,r.jsx)(i.Z,{overlay:(0,r.jsx)(a.Z,{children:"Raw JSON"}),children:(0,r.jsx)(s.Z,{variant:"outline-secondary",target:"_blank",...e,children:(0,r.jsx)("i",{className:"bi bi-filetype-json",style:{color:"black"}})})})}},7898:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3827);n(4090);var i=n(8826),a=n(4171),s=n(657),c=n(3800),l=n(9957);function o(e){let{signers:t,aggregator:n,displayIndexes:o,...d}=e;return(0,r.jsxs)(i.Z,{responsive:!0,striped:!0,...d,children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[void 0!==o&&(0,r.jsx)("th",{children:"#"}),(0,r.jsx)("th",{children:"Party id"}),(0,r.jsx)("th",{children:"Pool Ticker"}),(0,r.jsx)("th",{style:{textAlign:"end"},children:"Stake"})]})}),(0,r.jsx)("tbody",{children:t.map((e,t)=>(0,r.jsxs)("tr",{children:[!0===o&&(0,r.jsx)("td",{children:t}),(0,r.jsxs)("td",{children:[(0,r.jsx)(s.Z,{tooltip:"Verified Signer"})," ",(0,r.jsx)(a.Z,{partyId:e.party_id})]}),(0,r.jsx)("td",{children:(0,r.jsx)(c.Z,{aggregator:n,partyId:e.party_id})}),(0,r.jsx)("td",{style:{textAlign:"end"},children:(0,r.jsx)(l.Z,{lovelace:e.stake})})]},e.party_id))})]})}},9957:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(3827);n(4090);var i=n(9190),a=n(6767),s=n(7019);function c(e){let{lovelace:t}=e;return(0,r.jsx)(i.Z,{overlay:(0,r.jsxs)(a.Z,{children:[(0,s.formatCurrency)((0,s.toAda)(t),20),"₳"]}),children:(0,r.jsx)("span",{children:(0,s.formatStake)(t)})})}},657:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(3827);n(4090);var i=n(9190),a=n(6767);function s(e){return(0,r.jsx)(i.Z,{overlay:(0,r.jsx)(a.Z,{children:e.tooltip}),children:(0,r.jsx)("a",{href:"#",className:"badge bg-success",children:(0,r.jsx)("i",{className:"bi bi-shield-lock"})})})}},9064:function(e,t,n){"use strict";n.d(t,{W:function(){return r}});let r="aggregator"},7585:function(e,t,n){"use strict";n.d(t,{Mj:function(){return l},Q9:function(){return s},Ux:function(){return a}});var r=n(8508),i=n(4419);let a=(0,r.oM)({name:"pools",initialState:{list:[]},reducers:{},extraReducers:e=>e.addCase(s.fulfilled,(e,t)=>{if(t.payload.keep_cached_data)return;let n=c(e,t.payload.aggregator);n?(n.network=t.payload.network,n.pools=t.payload.pools,n.date=t.payload.date):e.list.push({aggregator:t.payload.aggregator,date:t.payload.date,network:t.payload.network,pools:t.payload.pools})})}),s=(0,r.hg)("pools/updateForAggregator",(e,t)=>{var n;let r=c(t.getState().pools,e),i=Date.now();return i-(null!==(n=null==r?void 0:r.date)&&void 0!==n?n:0)>216e5?fetch("".concat(e,"/signers/tickers")).then(e=>200===e.status?e.json():{}).then(t=>{var n;return{aggregator:e,date:i,network:t.network,pools:null!==(n=t.signers)&&void 0!==n?n:[]}}):{keep_cached_data:!0}}),c=(e,t)=>e.list.find(e=>e.aggregator===t),l=(0,i.P1)([e=>e.pools,(e,t,n)=>({aggregator:t,poolId:n})],(e,t)=>{let n=c(e,t.aggregator),r=null==n?void 0:n.pools.find(e=>e.party_id===t.poolId);return{network:null==n?void 0:n.network,...r}});a.reducer},5047:function(e,t,n){"use strict";n.d(t,{E3:function(){return s},JV:function(){return l},OR:function(){return u},VT:function(){return d},k6:function(){return g},uI:function(){return o},xj:function(){return c}});var r=n(8508),i=n(1487),a=n(7019);let s={autoUpdate:!0,updateInterval:1e4,selectedAggregator:i.Z[0],availableAggregators:i.Z,canRemoveSelected:!1},c=(0,r.oM)({name:"settings",initialState:s,reducers:{setUpdateInterval:(e,t)=>{e.updateInterval=t.payload},toggleAutoUpdate:e=>{e.autoUpdate=!e.autoUpdate},selectAggregator:(e,t)=>{if(!(0,a.checkUrl)(t.payload))return e;let n=e.availableAggregators.includes(t.payload)?e.availableAggregators:[...e.availableAggregators,t.payload];return{...e,selectedAggregator:t.payload,availableAggregators:n,canRemoveSelected:!i.Z.includes(t.payload)}},removeSelectedAggregator:e=>i.Z.includes(e.selectedAggregator)?e:{...e,selectedAggregator:e.availableAggregators.at(0),availableAggregators:e.availableAggregators.filter(t=>t!==e.selectedAggregator),canRemoveSelected:!i.Z.includes(e.availableAggregators.at(0))}}}),{setUpdateInterval:l,toggleAutoUpdate:o,selectAggregator:d,removeSelectedAggregator:u}=c.actions,g=e=>e.settings.selectedAggregator;c.reducer},7019:function(e){"use strict";let t=e=>e/1e6,n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e.toLocaleString(void 0,{maximumFractionDigits:t})};e.exports={checkUrl:function(e){try{return new URL(e),!0}catch(e){return!1}},formatStake:function(e){let r=t(e),i=[{suffix:"B",value:1e9},{suffix:"M",value:1e6},{suffix:"K",value:1e3},{suffix:"",value:1}].find(e=>Math.abs(r)>=e.value-.001);return i?"".concat(n(r/i.value)).concat(i.suffix,"₳"):"".concat(n(r),"₳")},toAda:t,formatCurrency:n,formatBytes:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";let n=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,n)).toFixed(t<0?0:t))+" "+["Bytes","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"][n]},formatPartyId:function(e){return("string"==typeof e||e instanceof String)&&e.length>15?e.slice(0,10)+"…"+e.slice(-5):e},getCExplorerUrlForPool:function(e,t){let n;let r="cexplorer.io/pool/".concat(t);switch(e){case"mainnet":n="https://".concat(r);break;case"preprod":n="https://preprod.".concat(r);break;case"preview":n="https://preview.".concat(r)}return n},formatProcessDuration:function(e){let t=performance.now()-e,n=Math.floor(t/6e4),r=Math.floor(t%6e4/1e3);return n>0?"".concat(n," minutes and ").concat(r," seconds"):"".concat(r," seconds")},computeAggregatorNetworkFromUrl:function(e){let t=e.match(/aggregator\.(.*?)\.api/);return t&&t[1]?t[1]:null}}}},function(e){e.O(0,[674,126,514,725,971,69,744],function(){return e(e.s=80)}),_N_E=e.O()}]);