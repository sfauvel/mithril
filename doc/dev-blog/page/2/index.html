<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Dev Blog | Mithril. A complete guide.</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mithril.network/doc/dev-blog/page/2"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="og:image" content="https://mithril.network/doc/img/logo.png"><meta data-rh="true" property="og:title" content="Dev Blog | Mithril. A complete guide."><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/doc/img/logo.svg"><link data-rh="true" rel="canonical" href="https://mithril.network/doc/dev-blog/page/2"><link data-rh="true" rel="alternate" href="https://mithril.network/doc/dev-blog/page/2" hreflang="en"><link data-rh="true" rel="alternate" href="https://mithril.network/doc/dev-blog/page/2" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/doc/dev-blog/rss.xml" title="Mithril. A complete guide. RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/doc/dev-blog/atom.xml" title="Mithril. A complete guide. Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4MB41WL2Z2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-4MB41WL2Z2",{anonymize_ip:!0})</script>




<link rel="alternate" type="application/rss+xml" href="/doc/adr/rss.xml" title="Mithril. A complete guide. RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/doc/adr/atom.xml" title="Mithril. A complete guide. Atom Feed">

<script src="https://plausible.io/js/script.js" defer="defer" data-domain="mithril.network"></script><link rel="stylesheet" href="/doc/assets/css/styles.3623e582.css">
<script src="/doc/assets/js/runtime~main.510782b0.js" defer="defer"></script>
<script src="/doc/assets/js/main.afeaa3c4.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#2e8555;color:#f1f1f1" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Participate in Mithril Protocol’s Mainnet Beta Launch! Follow our SPO on-boarding guide  <a rel="noopener noreferrer" href="https://mithril.network/doc/manual/getting-started/SPO-on-boarding-guide">here</a> if you are interested!</div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/doc/"><div class="navbar__logo"><img src="/doc/img/logo.svg" alt="Mithril. A complete guide." class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/doc/img/logo.svg" alt="Mithril. A complete guide." class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Mithril</b></a><a class="navbar__item navbar__link" href="/doc/manual/welcome">User Manual</a><a class="navbar__item navbar__link" href="/doc/mithril/intro">About Mithril</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/doc/manual/welcome">Current</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/doc/next/manual/welcome">Next 🚧</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/doc/manual/welcome">Current</a></li></ul></div><a href="https://mithril.network/explorer" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Explorer</a><a class="navbar__item navbar__link" href="/doc/glossary">Glossary</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/doc/dev-blog">Dev Blog</a><a class="navbar__item navbar__link" href="/doc/adr">ADRs</a><a href="https://github.com/input-output-hk/mithril/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Dev blog</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/doc/dev-blog/2024/02/08/testing-sanchonet-network-available">Mithril SanchoNet network released</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/doc/dev-blog/2024/01/23/mithril-client-npm-package-released">Mithril client npm package is released!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/doc/dev-blog/2024/01/03/signer-service-new-configuration">Mithril signer service new configuration</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/doc/dev-blog/2023/11/27/mithril-client-library-released">Mithril client library is released!</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/doc/dev-blog/2023/10/10/relay-security-advisory">Mithril Relay Security Advisory</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="https://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="The Mithril environments are updated"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/doc/dev-blog/2022/10/28/updated-environments">Mithril environments are updated</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-10-28T00:00:00.000Z" itemprop="datePublished">October 28, 2022</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Mithril Team</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-mithril-environments-are-updated">The Mithril environments are updated<a href="#the-mithril-environments-are-updated" class="hash-link" aria-label="Direct link to The Mithril environments are updated" title="Direct link to The Mithril environments are updated">​</a></h3>
<p><strong>PR</strong>: <code>New hosted environments</code> <a href="https://github.com/input-output-hk/mithril/pull/561" target="_blank" rel="noopener noreferrer">#561</a></p>
<p><strong>Issue</strong>: <code>Setup new hosted environments for testing-preview, pre-release-preview and release-preprod) with their terraform and GitHub environments</code> <a href="https://github.com/input-output-hk/mithril/issues/542" target="_blank" rel="noopener noreferrer">#542</a></p>
<p>On Tuesday, November 1st, 2022 the <code>preview</code> Cardano network will be re-spun and will be unavailable for 48h.</p>
<p>In the mean time, the Mitril team is also implementing a new Release Process that will make use of several new environments.</p>
<p>The Mithril testing environments are thus evolving in this context:</p>
<ul>
<li>
<p>The current testing environment that runs on <code>preview</code> network and that most of the Pioneer SPOs are running is <strong>deprecated</strong> and will be decommissioned just after the <code>preview</code> network re-spin.</p>
</li>
<li>
<p>This environment will then be replaced by a new <code>pre-release-preview</code> environment open to SPOs that are eager to test pre releases of the Mithril nodes.</p>
</li>
<li>
<p>A new <code>release-preprod</code> environment has been launched on the <code>preprod</code> Cardano nework and will become the <code>stable</code> environment on which SPOs are encouraged to run their nodes.</p>
</li>
<li>
<p>⚠️<!-- --> The new <code>release-preprod</code> environment is in <code>unstable</code> status, therefore it is subject to re-genesis. We expect it to be in <code>stable</code> status within 1-2 weeks.</p>
</li>
</ul>
<p>In the future, when Mithril reaches <code>mainnet</code>, we assume that the <code>release-preprod</code> will be replaced by a <code>release-mainnet</code> environment. This means that we will have the following environments at this time: <code>testing-preview</code>, <code>pre-release-preprod</code> and <code>release-mainnet</code>.</p>
<p>More information about:</p>
<ul>
<li>
<p>The <code>Mithril Networks</code> and their availability <a href="https://mithril.network/doc/manual/developer-docs/references#mithril-networks" target="_blank" rel="noopener noreferrer">here</a>.</p>
</li>
<li>
<p>The <code>Release Process</code> is available in this <a href="https://mithril.network/doc/adr/3" target="_blank" rel="noopener noreferrer">ADR</a>.</p>
</li>
</ul>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq" target="_blank" rel="noopener noreferrer">Discord channel</a> for questions and/or help.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/release-process">release-process</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/re-spin">re-spin</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/preview">preview</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/preprod">preprod</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/environments">environments</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Update 2022/12/19: The signer registration with declarative PoolId has been decommissioned."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/doc/dev-blog/2022/10/11/keys-certification-badge">Mithril Keys Certification</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-10-11T00:00:00.000Z" itemprop="datePublished">October 11, 2022</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Mithril Team</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><strong>Update 2022/12/19</strong>: The signer registration with <strong>declarative</strong> PoolId has been decommissioned.</p>
<p><strong>Update 2022/11/30</strong>: The signer registration with <strong>declarative</strong> PoolId has been deprecated and the <strong>certified</strong> PoolId is now the stable mode.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-way-the-mithril-nodes-handle-the-certification-of-the-spos-is-evolving">The way the Mithril nodes handle the Certification of the SPOs is evolving<a href="#the-way-the-mithril-nodes-handle-the-certification-of-the-spos-is-evolving" class="hash-link" aria-label="Direct link to The way the Mithril nodes handle the Certification of the SPOs is evolving" title="Direct link to The way the Mithril nodes handle the Certification of the SPOs is evolving">​</a></h3>
<p><strong>PR</strong>: <code>New STM registration procedure</code> <a href="https://github.com/input-output-hk/mithril/pull/433" target="_blank" rel="noopener noreferrer">#433</a></p>
<p><strong>Issues</strong>: <code>Implement Certification of the Mithril Verification Keys in Signer/Aggregator</code> <a href="https://github.com/input-output-hk/mithril/issues/455" target="_blank" rel="noopener noreferrer">#455</a></p>
<p>We have released a new Mithril Signer Verification Keys Certification mechanism:</p>
<ul>
<li>Mithril Signer nodes running the previous version are still able to interact with the network without any further intervention</li>
<li>Mithril Signer nodes that are updated from a previous version must migrate some of their stores</li>
<li>This mechanism is <strong>experimental</strong> and can be activated on demand by the SPOs</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade-a-mithril-signer-running-a-previous-version">Upgrade a Mithril Signer running a previous version<a href="#upgrade-a-mithril-signer-running-a-previous-version" class="hash-link" aria-label="Direct link to Upgrade a Mithril Signer running a previous version" title="Direct link to Upgrade a Mithril Signer running a previous version">​</a></h4>
<p>The SPOs need to recompile their Signer node (as in this <a href="https://mithril.network/doc/manual/getting-started/run-signer-node" target="_blank" rel="noopener noreferrer">guide</a>).</p>
<p>The data stores of the node need to be updated by running the following command:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># The path to your data stores directory, which defaults to:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DATA_STORES_DIRECTORY=/opt/mithril/stores</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Run this command to upgrade your stores:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sqlite3 ${DATA_STORES_DIRECTORY}/signer.sqlite3 &quot;UPDATE protocol_initializer SET value = json_object(&#x27;stm_initializer&#x27;, json(value), &#x27;kes_signature&#x27;, null) WHERE json_extract(value, &#x27;$.stm_initializer&#x27;) IS NULL;&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>⚠️<!-- --> If you don&#x27;t update your data stores with this procedure, your node will not be able to register to the Aggregator temporarily. It should then take up to <code>3</code> epochs before it is able to successfully register its individual signatures with the Aggregator.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="hybrid-certification-mode-in-the-mithril-network">Hybrid Certification mode in the Mithril network<a href="#hybrid-certification-mode-in-the-mithril-network" class="hash-link" aria-label="Direct link to Hybrid Certification mode in the Mithril network" title="Direct link to Hybrid Certification mode in the Mithril network">​</a></h4>
<p>From now, SPOs can either run their node by:</p>
<ul>
<li>
<p><strong>Declaring their Cardano <code>PoolId</code></strong>:</p>
<ul>
<li>This is the mode that all nodes were running prior to this release</li>
<li>This mode is still the <strong>stable</strong> mode</li>
<li>We intend to deprecate this mode in the near future</li>
</ul>
</li>
<li>
<p><strong>Certifying their Cardano <code>PoolId</code></strong>:</p>
<ul>
<li>The certification is done by providing the Mithril Signer node with <code>KES Secret Key Path</code> and <code>Operational Certificate Path</code></li>
<li>This is an <strong>experimental</strong> mode</li>
<li>We intend to make this mode the only way of providing a <code>PoolId</code> in the near future</li>
<li>These <code>PoolIds</code> will be marked with a <code>Verified Signer</code> green badge in the <a href="https://mithril.network/explorer/" target="_blank" rel="noopener noreferrer">Mithril Explorer</a> (<code>2</code> epochs after activating the Certification mode)</li>
</ul>
</li>
</ul>
<p>The setup of a Mithril Signer node with these two modes is available in this <a href="https://mithril.network/doc/manual/getting-started/run-signer-node" target="_blank" rel="noopener noreferrer">guide</a>.</p>
<p>Here is an example of the <code>Verified Signer</code> badge displayed in the Certificate details popin:
<img decoding="async" loading="lazy" alt="Verified Signer Badge" src="/doc/assets/images/badge-d830657d3818b56eb6d9dd154085e753.png" width="550" height="221" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-keys-certification-works">How Keys Certification works<a href="#how-keys-certification-works" class="hash-link" aria-label="Direct link to How Keys Certification works" title="Direct link to How Keys Certification works">​</a></h4>
<p>We rely on the Cardano <code>KES Keys</code> and <code>Operational Certificate</code> to be able to:</p>
<ul>
<li>Compute automatically the <code>PoolId</code> from a valid <code>Operational Certificate</code></li>
<li>Sign the <code>Mithril Signer Verification Key</code> with the <code>KES Secret Key</code></li>
<li>Verify that the <code>Mithril Signer Verification Key</code> is associated to the owner of the pool</li>
</ul>
<p><img decoding="async" loading="lazy" alt="Keys Certification Schema" src="/doc/assets/images/schema-2bb1f4c4f967eddf4006f3acb8dbcb88.jpg" width="1134" height="881" class="img_ev3q"></p>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq" target="_blank" rel="noopener noreferrer">Discord channel</a> for questions and/or help.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/cardano">cardano</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/pool-id">poolId</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/operational-certificate">operational-certificate</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/kes-keys">kes-keys</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/mithril-keys">mithril-keys</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/hybrid-mode">hybrid-mode</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="What is that?"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/doc/dev-blog/2022/09/14/sqlite-stores">Mithril internal stores switch to SQLite.</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-09-14T00:00:00.000Z" itemprop="datePublished">September 14, 2022</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Mithril Team</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-that">What is that?<a href="#what-is-that" class="hash-link" aria-label="Direct link to What is that?" title="Direct link to What is that?">​</a></h2>
<p>Since almost the beginning of the Mithril project, the software used to rely on a store mechanism to save its different states allowing Signers and Aggregators to resume on correct state when switched on and off. This internal store mechanism used to be a bunch of JSON files saved in a given directory. Even though this does the job it still presents flaws: data are hard to query when debugging especially when crossing data (which signers have participated in this multi-signature?). Also, data are stored in different places which can be a problem when moving these files from one place to another. We also had to imagine what would be a migration scenario in case of a structure change. Switching to a file based SQL database solves these issues.</p>
<p>The new release now uses SQLite stores in place of JSON file storage. This means that to continue running a Signer or an Aggregator node it is necessary to migrate from the old storage system to SQLite. This release comes with a tool to perform the migration which should be as straightforward as launching a command line (read below). The migration tool will be available only for a limited time in order to make Mithril beta testers able to migrate their existing data.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-migrate-data-from-old-storage-system-to-sqlite-stores">How to migrate data from old storage system to SQLite stores?<a href="#how-to-migrate-data-from-old-storage-system-to-sqlite-stores" class="hash-link" aria-label="Direct link to How to migrate data from old storage system to SQLite stores?" title="Direct link to How to migrate data from old storage system to SQLite stores?">​</a></h2>
<p>There are 2 ways of getting the new version and the associated migration tool. Either downloading binaries from GitHub or compiling them yourself.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="downloading">Downloading<a href="#downloading" class="hash-link" aria-label="Direct link to Downloading" title="Direct link to Downloading">​</a></h3>
<p>Download the new <code>mithril-signer</code> and <code>mithril-signer-migrate</code> files from the <a href="https://github.com/input-output-hk/mithril/releases/tag/unstable" target="_blank" rel="noopener noreferrer">nightly builds page</a>. Make them executable:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$&gt; chmod +x mithril-signer*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$&gt; ls -1F mithril-signer*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mithril-signer*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mithril-signer-migrate*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><em>note</em>: the suffix <code>*</code> appended to the the entries output above indicates the file is executable. If it is not present, ensure the <code>chmod</code> command does not produce any error.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="compiling">Compiling<a href="#compiling" class="hash-link" aria-label="Direct link to Compiling" title="Direct link to Compiling">​</a></h3>
<p>If you used to compile your node as stated in the <a href="https://mithril.network/doc/manual/getting-started/run-signer-node" target="_blank" rel="noopener noreferrer">guide</a>, you have to compile the migration tool as well:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$&gt; cd mithril-signer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$&gt; cargo build --all-targets --release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Compiling mithril-signer v0.1.0 (/home/somebody/shared/mithril/mithril-signer)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Finished release [optimized] target(s) in 4.56s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$&gt; ls -1F ../target/release/mithril-signer*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">../target/release/mithril-signer*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">../target/release/mithril-signer.d</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">../target/release/mithril-signer-migrate*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">../target/release/mithril-signer-migrate.d</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="running-the-migration">Running the migration<a href="#running-the-migration" class="hash-link" aria-label="Direct link to Running the migration" title="Direct link to Running the migration">​</a></h3>
<p>The first step is to stop the running Mithril node if any. The <code>mithril-signer-migrate</code> executable can perform the migration automatically once you know where your actual JSON files are located. Have a look in your configuration file (default <code>/opt/mithril/mithril-signer.env</code>), check the value associated with the <code>DATA_STORES_DIRECTORY</code> key (default to <code>/opt/mithril/stores</code>) and copy the path indicated here. Copy this path after the <code>--db-dir</code> option on the following command line:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$&gt; ./mithril-signer-migrate automatic --db-dir /paste/the/data/stores/directory/here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Mithril Aggregator JSON → SQLite migration tool.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Migrating protocol_initializer_store data…</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OK ✓</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Migrating stake_store data…</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OK ✓</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>At the end of this command, a file <code>signer.sqlite3</code> (or <code>aggregator.sqlite3</code> if you run an Aggregator) should be present in the specified base directory.</p>
<p>That should be enough, launch your upgraded mithril node.</p>
<p><strong>Note:</strong> The migration executable does not remove the old JSON files from the disk.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="manual-migration-process">Manual migration process<a href="#manual-migration-process" class="hash-link" aria-label="Direct link to Manual migration process" title="Direct link to Manual migration process">​</a></h3>
<p>The executable also provides a <code>manual</code> switch for migrating Mithril JSON store directories placed in custom directories. This is mainly intended for developers who work on tweaked environments. Each internal store has its own data structure. In order to correctly migrate and process data, the type of the store has to be given on the command line.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$&gt; ./mithril-signer-migrate manual --help</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The command above should give you all informations needed to run a custom store migration.</p>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq" target="_blank" rel="noopener noreferrer">Discord channel</a> for questions and/or help.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/store">store</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/sqlite">sqlite</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/breaking-change">breaking-change</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Update the computation now relies on the new cardano-cli query stake-snapshot --all-stake-pools command that retrieves the Stake Distribution all at once and that is way faster. Prior versions of the Cardano node 1.35+ are backward compatible and will keep implementing the algorithm detailed below."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/doc/dev-blog/2022/09/13/stake-distribution-retrieval">Stake Distribution retrieval fixed</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-09-13T00:00:00.000Z" itemprop="datePublished">September 13, 2022</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Mithril Team</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><strong>Update</strong>: The Stake Distribution computation is evolving with the release of Cardano node <code>8.0.0</code>: the computation now relies on the new <code>cardano-cli query stake-snapshot --all-stake-pools</code> command that retrieves the Stake Distribution all at once and that is way faster. Prior versions of the Cardano node <code>1.35+</code> are backward compatible and will keep implementing the algorithm detailed below.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-way-the-mithril-nodes-retrieve-the-stake-distribution-is-changing">The way the Mithril nodes retrieve the Stake Distribution is changing<a href="#the-way-the-mithril-nodes-retrieve-the-stake-distribution-is-changing" class="hash-link" aria-label="Direct link to The way the Mithril nodes retrieve the Stake Distribution is changing" title="Direct link to The way the Mithril nodes retrieve the Stake Distribution is changing">​</a></h3>
<p><strong>PR</strong>: <code>Fix Stake Distribution retrieval</code> <a href="https://github.com/input-output-hk/mithril/pull/499" target="_blank" rel="noopener noreferrer">#499</a></p>
<p><strong>Issue</strong>: <code>Stake distribution discrepancy</code> <a href="https://github.com/input-output-hk/mithril/issues/497" target="_blank" rel="noopener noreferrer">#497</a></p>
<p>We have noticed that the way the Mithril nodes computed the <code>Stake Distribution</code> was erroneous: the epoch that was used to make the computation was the <strong>current epoch</strong> instead of the <strong>previous epoch</strong>. This has lead to some de-synchronization between the Signers and the hosted GCP Aggregator for a few epochs.</p>
<p>Indeed, the <code>Stake Distribution</code> retrieved from the Cardano node depended on the time at which it was done: the nodes where having differents values that prevented them from being able to work together to produce valid multi-signatures. The problem is related to the epoch that is used (<strong>current epoch</strong>) to make the computation of the <code>Stake Distribution</code> when the <code>cardano-cli query stake-distribution</code> command is ran, whereas the Mithril protocol needs to work with the <strong>previous epoch</strong>.</p>
<p>A workaround is being implemented in this fix that will compute differently the <code>Stake Distribution</code> to target the <strong>previous epoch</strong>. To do so, the Stake value that is now retrieved sequentially for each pool available in the <code>cardano-cli query stake-distribution</code> by using the command <code>cardano-cli query stake-snapshot --stake-pool-id **pool-id*</code>. This guarantees that the <code>Stake Distribution</code> is computed deterministically on all nodes of the Mithril Network.</p>
<p>We will continue our efforts to enhance the way the <code>Stake Distribution</code> is retrieved in the future, and so that it works smoothly on the <code>mainnet</code> (where the numbers of pools is bigger <code>~3,000</code> vs <code>~100</code> on the <code>preview</code> network).</p>
<p>The SPOs need to recompile their Signer node in order to compute correctly the <code>Stake Distributions</code> on their node (as in this <a href="https://mithril.network/doc/manual/getting-started/run-signer-node" target="_blank" rel="noopener noreferrer">guide</a>).
It should then take up to <code>2</code> epochs before they are able to successfully register their individual signatures with the Aggregator.</p>
<p>More information about the <code>Certificate Chain</code> and the epochs retrieval requirements is available <a href="https://mithril.network/doc/mithril/mithril-protocol/certificates" target="_blank" rel="noopener noreferrer">here</a>.</p>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq" target="_blank" rel="noopener noreferrer">Discord channel</a> for questions and/or help.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/stake-distribution">stake-distribution</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/certificate">certificate</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="The way the Signers list is computed inside a Certificate on the Mithril Aggregator is changing"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/doc/dev-blog/2022/09/12/certificate-signers-list">Signers list computation in Certificates</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-09-12T00:00:00.000Z" itemprop="datePublished">September 12, 2022</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Mithril Team</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-way-the-signers-list-is-computed-inside-a-certificate-on-the-mithril-aggregator-is-changing">The way the Signers list is computed inside a Certificate on the Mithril Aggregator is changing<a href="#the-way-the-signers-list-is-computed-inside-a-certificate-on-the-mithril-aggregator-is-changing" class="hash-link" aria-label="Direct link to The way the Signers list is computed inside a Certificate on the Mithril Aggregator is changing" title="Direct link to The way the Signers list is computed inside a Certificate on the Mithril Aggregator is changing">​</a></h3>
<p><strong>PR</strong>: <code>Implement filtered Signers in Certificate</code> <a href="https://github.com/input-output-hk/mithril/pull/494" target="_blank" rel="noopener noreferrer">#494</a></p>
<p><strong>Issue</strong>: <code>Record &#x27;contributing&#x27; Signers only in Certificate</code> <a href="https://github.com/input-output-hk/mithril/issues/495" target="_blank" rel="noopener noreferrer">#495</a></p>
<p>Before this change, the list of Signers displayed in the <code>Certificate</code> detail of the <a href="https://mithril.network/explorer/" target="_blank" rel="noopener noreferrer">Mithril Explorer</a> was the list of <strong>all eligible</strong> Signers of the epoch used for signing (those who have successfully registered with the Mithril Aggregator <code>2</code> epochs earlier).</p>
<p>Now that this change has been merged, the list of Signers displayed will only include the <strong>contributing</strong> Signers, which means only those who have successfully sent individual signatures.</p>
<p>Note that the already existing <code>Certificates</code> will not be updated as this would break the <code>Certificate Chain</code> and therefore would involve the bootstraping of a new <code>Genesis Certificate</code>.</p>
<p>This change is transparent to the Signer nodes runned by the SPOs and does not require any specific action from them.</p>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq" target="_blank" rel="noopener noreferrer">Discord channel</a> for questions and/or help.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/certificate">certificate</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Update: The PR has been merged and the feature is being deployed on the GCP Mithril Aggregator."><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/doc/dev-blog/2022/09/07/genesis-certificate-feature">Genesis Certificate support added</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2022-09-07T00:00:00.000Z" itemprop="datePublished">September 7, 2022</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><span itemprop="name">Mithril Team</span></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><strong>Update</strong>: The PR has been merged and the feature is being deployed on the GCP Mithril Aggregator.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="this-afternoon-we-plan-to-merge-the-pr-that-activates-the-genesis-certificate-feature-on-the-gcp-mithril-aggregator">This afternoon, we plan to merge the PR that activates the Genesis Certificate feature on the GCP Mithril Aggregator<a href="#this-afternoon-we-plan-to-merge-the-pr-that-activates-the-genesis-certificate-feature-on-the-gcp-mithril-aggregator" class="hash-link" aria-label="Direct link to This afternoon, we plan to merge the PR that activates the Genesis Certificate feature on the GCP Mithril Aggregator" title="Direct link to This afternoon, we plan to merge the PR that activates the Genesis Certificate feature on the GCP Mithril Aggregator">​</a></h3>
<p><strong>PR</strong>: <code>Implement Real Genesis Certificate</code> <a href="https://github.com/input-output-hk/mithril/pull/438" target="_blank" rel="noopener noreferrer">#438</a></p>
<p><strong>Issue</strong>: <code>Bootstrap Certificate Chain w/ Genesis Certificate</code> <a href="https://github.com/input-output-hk/mithril/issues/364" target="_blank" rel="noopener noreferrer">#364</a></p>
<p>This will involve some manual operations that will prevent temporarily the service to be running:</p>
<ul>
<li>
<p>We will have to reset the stores of the <code>Snapshots</code> and <code>Certificates</code>. This means that the <a href="https://mithril.network/explorer/" target="_blank" rel="noopener noreferrer">Mithril Explorer</a> will display a <code>No snapshot available</code> message.</p>
</li>
<li>
<p>The Mithril Signers will have to wait until the next epoch <code>#30</code> to be able to sign. This means that we should see the first available <code>Snapshot</code> 1 hour after the epoch transition.</p>
</li>
</ul>
<p>The SPOs that are currently running a Mithril Signer will have to recompile their node in order ot take advantage of the latest improvements (such as the registration of the nodes that will take few minutes instead of few hours). However, the previously compiled node will be able to contribute to signatures.</p>
<p>In order to restore a Mithril Snapshot, a Mithril Client will now need access to the <code>Genesis Verification Key</code> by adding an environment variable when running: <code>GENESIS_VERIFICATION_KEY=$(wget -q -O - https://raw.githubusercontent.com/input-output-hk/mithril/main/TEST_ONLY_genesis.vkey)</code>.</p>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq" target="_blank" rel="noopener noreferrer">Discord channel</a> for questions and/or help.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/genesis">genesis</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/certificate">certificate</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/doc/dev-blog/tags/breaking-change">breaking-change</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/doc/dev-blog"><div class="pagination-nav__label">Newer Entries</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Contributing</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/input-output-hk/mithril/blob/main/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contributing Guidelines<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/doc/adr">Architectural Decision Records</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/5kaErDKDRq" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord (#moria)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/input-output-hk/mithril/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://cardano.stackexchange.com/questions/tagged/mithril" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Exchange<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://mithril.cronitorstatus.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mithril Networks Status<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/input-output-hk/mithril/wiki/Logbook" target="_blank" rel="noopener noreferrer" class="footer__link-item">Logbook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://iohk.io/en/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Input Output (Blog)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 <strong>Input Output Global</strong> <br> <a href="https://static.iohk.io/terms/iog-privacy-policy.pdf" target="_blank" class="footer__link-item">Privacy Policy</a> | <a href="https://static.iohk.io/terms/iohktermsandconditions.pdf" target="_blank" class="footer__link-item">Terms & Conditions</a> <br> <small>Built with Docusaurus</small></div></div></div></footer></div>
</body>
</html>