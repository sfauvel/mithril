"use strict";(self.webpackChunkmithril_doc=self.webpackChunkmithril_doc||[]).push([[4163,9531,2379],{84489:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>c});var i=n(85893),t=n(11151);const s={unlisted:!0,hide_title:!0,hide_table_of_contents:!0},l=void 0,a={id:"compiled-binaries",title:"compiled-binaries",description:"Each Release / Pre-Release distribution comes with pre compiled binaries ready to use or wrapped in a debian package",source:"@site/root/compiled-binaries.md",sourceDirName:".",slug:"/compiled-binaries",permalink:"/doc/next/compiled-binaries",draft:!1,unlisted:!0,editUrl:"https://github.com/input-output-hk/mithril/edit/main/docs/root/compiled-binaries.md",tags:[],version:"current",frontMatter:{unlisted:!0,hide_title:!0,hide_table_of_contents:!0}},o={},c=[];function d(e){const r={code:"code",p:"p",strong:"strong",...(0,t.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.p,{children:"Each Release / Pre-Release distribution comes with pre compiled binaries ready to use or wrapped in a debian package\nfor linux\xb9."}),"\n",(0,i.jsx)(r.p,{children:"You can download them from the Release / Pre-Release distribution page that depends on the Mithril Network you\nare targeting."}),"\n",(0,i.jsxs)(r.p,{children:["These links are available in the ",(0,i.jsx)(r.strong,{children:"Build From"})," column of the above ",(0,i.jsx)(r.strong,{children:"Mithril Networks"})," table."]}),"\n",(0,i.jsxs)(r.p,{children:["\xb9 The Linux binaries target ",(0,i.jsx)(r.code,{children:"glibc"}),", and have a minimum requirement of ",(0,i.jsx)(r.code,{children:"glibc 2.31"})," (compatible with ",(0,i.jsx)(r.code,{children:"Ubuntu 20.04"}),"\nor ",(0,i.jsx)(r.code,{children:"Debian Bullseye"}),")."]})]})}function h(e={}){const{wrapper:r}={...(0,t.a)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},33128:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>c,toc:()=>h});var i=n(85893),t=n(11151),s=n(52571),l=n(84489);const a={sidebar_position:3},o="Run a Mithril signer as an SPO",c={id:"manual/getting-started/run-signer-node",title:"Run a Mithril signer as an SPO",description:"For more information about the Mithril protocol, see the section About Mithril.",source:"@site/root/manual/getting-started/run-signer-node.md",sourceDirName:"manual/getting-started",slug:"/manual/getting-started/run-signer-node",permalink:"/doc/next/manual/getting-started/run-signer-node",draft:!1,unlisted:!1,editUrl:"https://github.com/input-output-hk/mithril/edit/main/docs/root/manual/getting-started/run-signer-node.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"docSideBar",previous:{title:"Bootstrap a Cardano node",permalink:"/doc/next/manual/getting-started/bootstrap-cardano-node"},next:{title:"Run a private Mithril network",permalink:"/doc/next/manual/getting-started/run-mithril-devnet"}},d={},h=[{value:"Mithril signer deployment model",id:"mithril-signer-deployment-model",level:2},{value:"Mithril keys certification",id:"mithril-keys-certification",level:2},{value:"Pre-requisites",id:"pre-requisites",level:2},{value:"Set up the Mithril signer node",id:"set-up-the-mithril-signer-node",level:2},{value:"Building your own executable",id:"building-your-own-executable",level:3},{value:"Download the source file",id:"download-the-source-file",level:4},{value:"Build the Mithril signer binary",id:"build-the-mithril-signer-binary",level:4},{value:"Download the pre-built binary",id:"download-the-pre-built-binary",level:3},{value:"Verifying the binary",id:"verifying-the-binary",level:3},{value:"Verify the version of the binary",id:"verify-the-version-of-the-binary",level:4},{value:"Verify the build",id:"verify-the-build",level:4},{value:"Installing the service",id:"installing-the-service",level:3},{value:"Move the executable",id:"move-the-executable",level:4},{value:"Set up the service",id:"set-up-the-service",level:4},{value:"Rotating the KES keys",id:"rotating-the-kes-keys",level:3},{value:"Set up the Mithril relay node",id:"set-up-the-mithril-relay-node",level:2},{value:"Configuring the Squid service",id:"configuring-the-squid-service",level:3},{value:"Firewall configuration",id:"firewall-configuration",level:3},{value:"About the Cardano relay machine",id:"about-the-cardano-relay-machine",level:4},{value:"Verify the Mithril signer deployment",id:"verify-the-mithril-signer-deployment",level:2},{value:"Verify your signer is registered",id:"verify-your-signer-is-registered",level:3},{value:"Verify your signer contributes with individual signatures",id:"verify-your-signer-contributes-with-individual-signatures",level:3}];function u(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.h1,{id:"run-a-mithril-signer-as-an-spo",children:"Run a Mithril signer as an SPO"}),"\n",(0,i.jsx)(r.admonition,{title:"Mithril networks",type:"note",children:(0,i.jsx)(s.default,{})}),"\n",(0,i.jsx)(r.admonition,{type:"tip",children:(0,i.jsxs)(r.p,{children:["For more information about the ",(0,i.jsx)(r.strong,{children:"Mithril protocol"}),", see the section ",(0,i.jsx)(r.a,{href:"/doc/next/mithril/intro",children:"About Mithril"}),"."]})}),"\n",(0,i.jsx)(r.h2,{id:"mithril-signer-deployment-model",children:"Mithril signer deployment model"}),"\n",(0,i.jsxs)(r.admonition,{type:"info",children:[(0,i.jsxs)(r.p,{children:["In this guide, you will learn how to set up a ",(0,i.jsx)(r.strong,{children:"Mithril signer"})," within the stake pool operator (SPO) infrastructure both on Cardano ",(0,i.jsx)(r.code,{children:"mainnet"})," and ",(0,i.jsx)(r.code,{children:"testnet"})," environments:"]}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["On ",(0,i.jsx)(r.code,{children:"mainnet"}),", you ",(0,i.jsx)(r.strong,{children:"must"})," run the ",(0,i.jsx)(r.strong,{children:"production"})," deployment where the ",(0,i.jsx)(r.strong,{children:"Mithril signer"})," runs on the ",(0,i.jsx)(r.strong,{children:"Cardano block producer"})," machine and the ",(0,i.jsx)(r.strong,{children:"Mithril relay"})," runs on the ",(0,i.jsx)(r.strong,{children:"Cardano relay"})," machine. ",(0,i.jsx)(r.strong,{children:"Note"})," that you can run the ",(0,i.jsx)(r.strong,{children:"production"})," deployment on ",(0,i.jsx)(r.code,{children:"testnet"}),"."]}),"\n",(0,i.jsxs)(r.li,{children:["You can also run ",(0,i.jsx)(r.strong,{children:"naive"})," deployment, where the ",(0,i.jsx)(r.strong,{children:"Mithril signer"})," runs on the ",(0,i.jsx)(r.strong,{children:"Cardano relay"})," machine. This is possible in the testnet environment only, and does not require setting up a ",(0,i.jsx)(r.strong,{children:"Mithril relay"}),"."]}),"\n"]})]}),"\n",(0,i.jsx)(r.admonition,{type:"info",children:(0,i.jsx)(r.p,{children:"In the current setup, you don't need to install a Mithril aggregator."})}),"\n",(0,i.jsx)(r.admonition,{type:"caution",children:(0,i.jsxs)(r.p,{children:["The ",(0,i.jsx)(r.strong,{children:"production"})," deployment model is currently in the beta version."]})}),"\n",(0,i.jsxs)(r.p,{children:["Here is the schema of the ",(0,i.jsx)(r.strong,{children:"production"})," deployment on mainnet:\n",(0,i.jsx)(r.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:n(34310).Z+"",children:(0,i.jsx)(r.img,{alt:"Production Mithril Signer Deployment Model",src:n(82997).Z+"",width:"2208",height:"452"})})]}),"\n",(0,i.jsxs)(r.p,{children:["and the schema of the ",(0,i.jsx)(r.strong,{children:"naive"})," deployment specifically for ",(0,i.jsx)(r.code,{children:"testnets"}),":\n",(0,i.jsx)(r.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:n(66182).Z+"",children:(0,i.jsx)(r.img,{alt:"Naive Mithril Signer Deployment Model",src:n(50532).Z+"",width:"2209",height:"452"})})]}),"\n",(0,i.jsx)(r.admonition,{type:"danger",children:(0,i.jsxs)(r.p,{children:["On ",(0,i.jsx)(r.code,{children:"mainnet"}),", you must ",(0,i.jsx)(r.strong,{children:"never"})," copy the ",(0,i.jsx)(r.code,{children:"KES secret key"})," from the ",(0,i.jsx)(r.strong,{children:"Cardano block producer"})," machine!"]})}),"\n",(0,i.jsx)(r.h2,{id:"mithril-keys-certification",children:"Mithril keys certification"}),"\n",(0,i.jsxs)(r.p,{children:["The ",(0,i.jsx)(r.strong,{children:"Mithril signer"})," uses your Cardano ",(0,i.jsx)(r.code,{children:"operational certificate"})," and ",(0,i.jsx)(r.code,{children:"KES secret key"})," files which enable:"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Automatic computation of the ",(0,i.jsx)(r.code,{children:"PoolId"})]}),"\n",(0,i.jsxs)(r.li,{children:["Verification of your ",(0,i.jsx)(r.code,{children:"PoolId"})," ownership and the associated stake used by the Mithril protocol"]}),"\n",(0,i.jsxs)(r.li,{children:["Verification of your Mithril ",(0,i.jsx)(r.code,{children:"signer secret key"})," ownership, which allows you to participate in the multi-signature process for certificate production on the Mithril network"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"pre-requisites",children:"Pre-requisites"}),"\n",(0,i.jsx)(r.admonition,{type:"info",children:(0,i.jsx)(r.p,{children:"Note that this guide works on a Linux machine only."})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["To operate a ",(0,i.jsx)(r.strong,{children:"Cardano node"})," as a ",(0,i.jsx)(r.strong,{children:"stake pool"}),", you need:"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["The pool's ",(0,i.jsx)(r.code,{children:"operational certificate"})]}),"\n",(0,i.jsxs)(r.li,{children:["The pool's ",(0,i.jsx)(r.code,{children:"KES secret key"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["To access the file system of the ",(0,i.jsx)(r.strong,{children:"Cardano block producer"})," node for ",(0,i.jsx)(r.strong,{children:"production"})," deployment (or of the ",(0,i.jsx)(r.strong,{children:"Cardano relay"})," node for ",(0,i.jsx)(r.strong,{children:"naive"})," deployment), you will need the following permissions:"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Read rights on the ",(0,i.jsx)(r.code,{children:"Database"})," folder (specified by the ",(0,i.jsx)(r.code,{children:"--database-path"})," setting of the ",(0,i.jsx)(r.strong,{children:"Cardano node"}),")"]}),"\n",(0,i.jsxs)(r.li,{children:["Read and write rights on the ",(0,i.jsx)(r.code,{children:"Inter Process Communication"})," file (typically defined by the ",(0,i.jsx)(r.code,{children:"CARDANO_NODE_SOCKET_PATH"})," environment variable used to launch the ",(0,i.jsx)(r.strong,{children:"Cardano node"}),")"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Install a recent version of ",(0,i.jsx)(r.a,{href:"https://github.com/input-output-hk/cardano-node/releases/tag/8.7.3",children:(0,i.jsx)(r.code,{children:"cardano-cli"})})," (version 8.7.3+)."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Install a correctly configured Rust toolchain (latest stable version). You can follow the instructions provided ",(0,i.jsx)(r.a,{href:"https://www.rust-lang.org/learn/get-started",children:"here"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Install OpenSSL development libraries. For example, on Ubuntu/Debian/Mint, run ",(0,i.jsx)(r.code,{children:"apt install libssl-dev"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Install a recent version of ",(0,i.jsx)(r.code,{children:"jq"})," (version 1.6+). You can install it by running ",(0,i.jsx)(r.code,{children:"apt install jq"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["Only for the ",(0,i.jsx)(r.strong,{children:"production"})," deployment, install a recent version of ",(0,i.jsx)(r.a,{href:"http://www.squid-cache.org/",children:(0,i.jsx)(r.code,{children:"squid-cache"})})," (version 5.2+). You can install it by running ",(0,i.jsx)(r.code,{children:"apt install squid"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"set-up-the-mithril-signer-node",children:"Set up the Mithril signer node"}),"\n",(0,i.jsx)(r.admonition,{type:"caution",children:(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["For ",(0,i.jsx)(r.strong,{children:"production"})," deployment, the ",(0,i.jsx)(r.strong,{children:"Mithril signer"})," setup is performed on the ",(0,i.jsx)(r.strong,{children:"Cardano block producer"})," machine."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["For ",(0,i.jsx)(r.strong,{children:"naive"})," deployment, the ",(0,i.jsx)(r.strong,{children:"Mithril signer"})," setup is performed on the ",(0,i.jsx)(r.strong,{children:"Cardano relay"})," machine."]}),"\n"]}),"\n"]})}),"\n",(0,i.jsx)(r.h3,{id:"building-your-own-executable",children:"Building your own executable"}),"\n",(0,i.jsx)(r.h4,{id:"download-the-source-file",children:"Download the source file"}),"\n",(0,i.jsx)(r.p,{children:"To download the source from GitHub (HTTPS), run:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"git clone https://github.com/input-output-hk/mithril.git\n"})}),"\n",(0,i.jsx)(r.p,{children:"Or (SSH):"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"git clone git@github.com:input-output-hk/mithril.git\n"})}),"\n",(0,i.jsx)(r.h4,{id:"build-the-mithril-signer-binary",children:"Build the Mithril signer binary"}),"\n",(0,i.jsx)(r.p,{children:"First, switch to build a branch/tag:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"# **YOUR_BUILD_BRANCH_OR_TAG** depends on the Mithril network you target, \n# please refer to the **Build from** column of the above **Mithril networks** table\ngit checkout **YOUR_BUILD_BRANCH_OR_TAG**\n"})}),"\n",(0,i.jsx)(r.p,{children:"Then, change the directory:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"cd mithril/mithril-signer\n"})}),"\n",(0,i.jsx)(r.p,{children:"Run tests (optional):"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"make test\n"})}),"\n",(0,i.jsx)(r.p,{children:"Finally, build the executable:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"make build\n"})}),"\n",(0,i.jsx)(r.h3,{id:"download-the-pre-built-binary",children:"Download the pre-built binary"}),"\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsx)(r.h3,{id:"verifying-the-binary",children:"Verifying the binary"}),"\n",(0,i.jsx)(r.h4,{id:"verify-the-version-of-the-binary",children:"Verify the version of the binary"}),"\n",(0,i.jsx)(r.p,{children:"You can check that the Mithril signer binary is running the correct version by running:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"./mithril-signer -V\n"})}),"\n",(0,i.jsx)(r.p,{children:"You should see something like:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"mithril-signer 0.2.0\n"})}),"\n",(0,i.jsxs)(r.p,{children:["\u26a0\ufe0f"," Please verify that the displayed version matches the version described in the release/pre-release notes (refer to the ",(0,i.jsx)(r.strong,{children:"Build from"})," column in the ",(0,i.jsx)(r.strong,{children:"Mithril networks"})," table above)."]}),"\n",(0,i.jsx)(r.h4,{id:"verify-the-build",children:"Verify the build"}),"\n",(0,i.jsx)(r.p,{children:"Check that the Mithril signer binary is working correctly by running the help function:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"./mithril-signer -h\n"})}),"\n",(0,i.jsx)(r.p,{children:"You should see:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"An implementation of a Mithril signer\n\nUsage: mithril-signer [OPTIONS]\n\nOptions:\n  -r, --run-mode <RUN_MODE>\n          Run Mode [env: RUN_MODE=] [default: dev]\n  -v, --verbose...\n          Verbosity level, add more v to increase\n  -c, --configuration-dir <CONFIGURATION_DIR>\n          Directory where the configuration file is located [default: ./config]\n      --disable-digests-cache\n          Disable immutables digests cache\n      --reset-digests-cache\n          If set the existing immutables digests cache will be reset\n  -h, --help\n          Print help information (use `--help` for more detail)\n  -V, --version\n          Print version information\n"})}),"\n",(0,i.jsxs)(r.admonition,{type:"tip",children:[(0,i.jsx)(r.p,{children:"If you wish to delve deeper, you can access logs at various levels from the Mithril signer:"}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Add ",(0,i.jsx)(r.code,{children:"-v"})," for some logs (WARN)"]}),"\n",(0,i.jsxs)(r.li,{children:["Add ",(0,i.jsx)(r.code,{children:"-vv"})," for more logs (INFO)"]}),"\n",(0,i.jsxs)(r.li,{children:["Add ",(0,i.jsx)(r.code,{children:"-vvv"})," for even more logs (DEBUG)"]}),"\n",(0,i.jsxs)(r.li,{children:["Add ",(0,i.jsx)(r.code,{children:"-vvvv"})," for all logs (TRACE)"]}),"\n"]})]}),"\n",(0,i.jsx)(r.h3,{id:"installing-the-service",children:"Installing the service"}),"\n",(0,i.jsx)(r.h4,{id:"move-the-executable",children:"Move the executable"}),"\n",(0,i.jsx)(r.p,{children:"To move the executable to /opt/mithril, run:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"sudo mkdir -p /opt/mithril\nsudo mv mithril-signer /opt/mithril\n"})}),"\n",(0,i.jsx)(r.h4,{id:"set-up-the-service",children:"Set up the service"}),"\n",(0,i.jsx)(r.admonition,{type:"caution",children:(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.code,{children:"User=cardano"}),":\nReplace this value with the correct user. We assume that the user used to run the ",(0,i.jsx)(r.strong,{children:"Cardano node"})," is ",(0,i.jsx)(r.code,{children:"cardano"}),". The ",(0,i.jsx)(r.strong,{children:"Mithril signer"})," must imperatively run with the same user."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["In the ",(0,i.jsx)(r.code,{children:"/opt/mithril/mithril-signer.env"})," env file:"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"KES_SECRET_KEY_PATH=/cardano/keys/kes.skey"}),": replace ",(0,i.jsx)(r.code,{children:"/cardano/keys/kes.skey"})," with the path to your Cardano ",(0,i.jsx)(r.code,{children:"KES secret key"})," file"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"OPERATIONAL_CERTIFICATE_PATH=/cardano/cert/opcert.cert"}),": replace ",(0,i.jsx)(r.code,{children:"/cardano/cert/opcert.cert"})," with the path to your Cardano ",(0,i.jsx)(r.code,{children:"operational certificate"})," file"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"DB_DIRECTORY=/cardano/db"}),": replace ",(0,i.jsx)(r.code,{children:"/cardano/db"})," with the path to the database folder of the ",(0,i.jsx)(r.strong,{children:"Cardano node"})," (the one in ",(0,i.jsx)(r.code,{children:"--database-path"}),")"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"CARDANO_NODE_SOCKET_PATH=/cardano/ipc/node.socket"}),": replace with the path to the IPC file (",(0,i.jsx)(r.code,{children:"CARDANO_NODE_SOCKET_PATH"})," env var)"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"CARDANO_CLI_PATH=/app/bin/cardano-cli"}),": replace with the path to the ",(0,i.jsx)(r.code,{children:"cardano-cli"})," executable"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"DATA_STORES_DIRECTORY=/opt/mithril/stores"}),": replace with the path to a folder where the ",(0,i.jsx)(r.strong,{children:"Mithril signer"})," will store its data (",(0,i.jsx)(r.code,{children:"/opt/mithril/stores"})," e.g.)"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"STORE_RETENTION_LIMIT"}),": if set, this will limit the number of records in some internal stores (5 is a good fit)."]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"ERA_READER_ADAPTER_TYPE=cardano-chain"}),": replace ",(0,i.jsx)(r.code,{children:"cardano-chain"})," with the era reader adapter type used in your Mithril network"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:'ERA_READER_ADAPTER_PARAMS={"address": "...", "verification_key": "..."}'}),": replace ",(0,i.jsx)(r.code,{children:'{"address": "...", "verification_key": "..."}'})," with the era reader parameters that you need to compute by running the command ",(0,i.jsx)(r.code,{children:'jq -nc --arg address $(wget -q -O - **YOUR_ERA_READER_ADDRESS**) --arg verification_key $(wget -q -O - **YOUR_ERA_READER_VERIFICATION_KEY**) \'{"address": $address, "verification_key": $verification_key}\''})]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"RELAY_ENDPOINT=http://192.168.1.50:3132"})," ",(0,i.jsx)(r.strong,{children:"(optional)"}),": this is the endpoint of the ",(0,i.jsx)(r.strong,{children:"Mithril relay"}),", which is required for ",(0,i.jsx)(r.strong,{children:"production"})," deployment only. For ",(0,i.jsx)(r.strong,{children:"naive"})," deployment, do not set this variable in your environment file."]}),"\n"]}),"\n"]}),"\n"]})}),"\n",(0,i.jsxs)(r.admonition,{type:"tip",children:[(0,i.jsxs)(r.p,{children:["Here is an ",(0,i.jsx)(r.strong,{children:"example"})," set of values for ",(0,i.jsx)(r.strong,{children:"release-preprod"})," that will be used in this guide in the ",(0,i.jsx)(r.strong,{children:"tip"})," boxes to illustrate some commands:"]}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.strong,{children:"YOUR_KES_SECRET_KEY_PATH"})}),": ",(0,i.jsx)(r.code,{children:"/cardano/keys/kes.skey"})]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.strong,{children:"YOUR_OPERATIONAL_CERTIFICATE_PATH"})}),": ",(0,i.jsx)(r.code,{children:"/cardano/keys/node.cert"})]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.strong,{children:"YOUR_CARDANO_NETWORK"})}),": ",(0,i.jsx)(r.code,{children:"preprod"})]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.strong,{children:"YOUR_AGGREGATOR_ENDPOINT"})}),": ",(0,i.jsx)(r.code,{children:"https://aggregator.release-preprod.api.mithril.network/aggregator"})]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.strong,{children:"YOUR_ERA_READER_ADAPTER_TYPE"})}),": ",(0,i.jsx)(r.code,{children:"cardano-chain"})]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.strong,{children:"YOUR_ERA_READER_ADAPTER_PARAMS"})}),": ",(0,i.jsx)(r.code,{children:'{"address": "addr_test1qpkyv2ws0deszm67t840sdnruqgr492n80g3y96xw3p2ksk6suj5musy6w8lsg3yjd09cnpgctc2qh386rtxphxt248qr0npnx", "verification_key": "5b35352c3232382c3134342c38372c3133382c3133362c34382c382c31342c3138372c38352c3134382c39372c3233322c3235352c3232392c33382c3234342c3234372c3230342c3139382c31332c33312c3232322c32352c3136342c35322c3130322c39312c3132302c3230382c3134375d"}'})]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.strong,{children:"YOUR_RELAY_ENDPOINT"})}),": ",(0,i.jsx)(r.code,{children:"192.168.1.50"})]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.strong,{children:"YOUR_RELAY_LISTENING_PORT"})}),": ",(0,i.jsx)(r.code,{children:"3132"})]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.strong,{children:"YOUR_BLOCK_PRODUCER_INTERNAL_IP"})}),": ",(0,i.jsx)(r.code,{children:"192.168.1.75"})]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.strong,{children:"YOUR_SIGNER_LOGS_PATH"})}),": ",(0,i.jsx)(r.code,{children:"/var/log/syslog"})]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.strong,{children:"YOUR_PARTY_ID"})}),": ",(0,i.jsx)(r.code,{children:"pool1hp72sauk0g0yqm4dzllz0pz6j93gewhllkzphn4hykkfmne43y"})]}),"\n"]})]}),"\n",(0,i.jsx)(r.p,{children:"First, create an environment file that will be used by the service:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["for ",(0,i.jsx)(r.strong,{children:"production"})," deployment:"]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"sudo bash -c 'cat > /opt/mithril/mithril-signer.env << EOF\nKES_SECRET_KEY_PATH=**YOUR_KES_SECRET_KEY_PATH**\nOPERATIONAL_CERTIFICATE_PATH=**YOUR_OPERATIONAL_CERTIFICATE_PATH**\nNETWORK=**YOUR_CARDANO_NETWORK**\nAGGREGATOR_ENDPOINT=**YOUR_AGGREGATOR_ENDPOINT**\nRUN_INTERVAL=60000\nDB_DIRECTORY=/cardano/db\nCARDANO_NODE_SOCKET_PATH=/cardano/ipc/node.socket\nCARDANO_CLI_PATH=/app/bin/cardano-cli\nDATA_STORES_DIRECTORY=/opt/mithril/stores\nSTORE_RETENTION_LIMIT=5\nERA_READER_ADAPTER_TYPE=**YOUR_ERA_READER_ADAPTER_TYPE**\nERA_READER_ADAPTER_PARAMS=**YOUR_ERA_READER_ADAPTER_PARAMS**\nRELAY_ENDPOINT=**YOUR_RELAY_ENDPOINT**\nEOF'\n"})}),"\n",(0,i.jsxs)(r.admonition,{type:"tip",children:[(0,i.jsxs)(r.p,{children:["Here is an example of the aforementioned command created with the example set for ",(0,i.jsx)(r.code,{children:"release-preprod"}),":"]}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:'sudo bash -c \'cat > /opt/mithril/mithril-signer.env << EOF\nKES_SECRET_KEY_PATH=/cardano/keys/kes.skey\nOPERATIONAL_CERTIFICATE_PATH=/cardano/keys/node.cert\nNETWORK=preprod\nAGGREGATOR_ENDPOINT=https://aggregator.release-preprod.api.mithril.network/aggregator\nRUN_INTERVAL=60000\nDB_DIRECTORY=/cardano/db\nCARDANO_NODE_SOCKET_PATH=/cardano/ipc/node.socket\nCARDANO_CLI_PATH=/app/bin/cardano-cli\nDATA_STORES_DIRECTORY=/opt/mithril/stores\nSTORE_RETENTION_LIMIT=5\nERA_READER_ADAPTER_TYPE=cardano-chain\nERA_READER_ADAPTER_PARAMS={"address": "addr_test1qpkyv2ws0deszm67t840sdnruqgr492n80g3y96xw3p2ksk6suj5musy6w8lsg3yjd09cnpgctc2qh386rtxphxt248qr0npnx", "verification_key": "5b35352c3232382c3134342c38372c3133382c3133362c34382c382c31342c3138372c38352c3134382c39372c3233322c3235352c3232392c33382c3234342c3234372c3230342c3139382c31332c33312c3232322c32352c3136342c35322c3130322c39312c3132302c3230382c3134375d"}\nRELAY_ENDPOINT=http://192.168.1.50:3132\nEOF\'\n'})})]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["for ",(0,i.jsx)(r.strong,{children:"naive"})," deployment:"]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"sudo bash -c 'cat > /opt/mithril/mithril-signer.env << EOF\nKES_SECRET_KEY_PATH=**YOUR_KES_SECRET_KEY_PATH**\nOPERATIONAL_CERTIFICATE_PATH=**YOUR_OPERATIONAL_CERTIFICATE_PATH**\nNETWORK=**YOUR_CARDANO_NETWORK**\nAGGREGATOR_ENDPOINT=**YOUR_AGGREGATOR_ENDPOINT**\nRUN_INTERVAL=60000\nDB_DIRECTORY=/cardano/db\nCARDANO_NODE_SOCKET_PATH=/cardano/ipc/node.socket\nCARDANO_CLI_PATH=/app/bin/cardano-cli\nDATA_STORES_DIRECTORY=/opt/mithril/stores\nSTORE_RETENTION_LIMIT=5\nERA_READER_ADAPTER_TYPE=**YOUR_ERA_READER_ADAPTER_TYPE**\nERA_READER_ADAPTER_PARAMS=**YOUR_ERA_READER_ADAPTER_PARAMS**\nEOF'\n"})}),"\n",(0,i.jsxs)(r.admonition,{type:"tip",children:[(0,i.jsxs)(r.p,{children:["Here is an example of the aforementioned command created with the example set for ",(0,i.jsx)(r.code,{children:"release-preprod"}),":"]}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:'sudo bash -c \'cat > /opt/mithril/mithril-signer.env << EOF\nKES_SECRET_KEY_PATH=/cardano/keys/kes.skey\nOPERATIONAL_CERTIFICATE_PATH=/cardano/keys/node.cert\nNETWORK=preprod\nAGGREGATOR_ENDPOINT=https://aggregator.release-preprod.api.mithril.network/aggregator\nRUN_INTERVAL=60000\nDB_DIRECTORY=/cardano/db\nCARDANO_NODE_SOCKET_PATH=/cardano/ipc/node.socket\nCARDANO_CLI_PATH=/app/bin/cardano-cli\nDATA_STORES_DIRECTORY=/opt/mithril/stores\nSTORE_RETENTION_LIMIT=5\nERA_READER_ADAPTER_TYPE=cardano-chain\nERA_READER_ADAPTER_PARAMS={"address": "addr_test1qpkyv2ws0deszm67t840sdnruqgr492n80g3y96xw3p2ksk6suj5musy6w8lsg3yjd09cnpgctc2qh386rtxphxt248qr0npnx", "verification_key": "5b35352c3232382c3134342c38372c3133382c3133362c34382c382c31342c3138372c38352c3134382c39372c3233322c3235352c3232392c33382c3234342c3234372c3230342c3139382c31332c33312c3232322c32352c3136342c35322c3130322c39312c3132302c3230382c3134375d"}\nEOF\'\n'})})]}),"\n",(0,i.jsxs)(r.p,{children:["Then, create a ",(0,i.jsx)(r.code,{children:"/etc/systemd/system/mithril-signer.service"})," description file for the service:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"sudo bash -c 'cat > /etc/systemd/system/mithril-signer.service << EOF\n[Unit]\nDescription=Mithril signer service\nStartLimitIntervalSec=0\n\n[Service]\nType=simple\nRestart=always\nRestartSec=60\nUser=cardano\nEnvironmentFile=/opt/mithril/mithril-signer.env\nExecStart=/opt/mithril/mithril-signer -vvv\n\n[Install]\nWantedBy=multi-user.target\nEOF'\n"})}),"\n",(0,i.jsx)(r.p,{children:"Reload the service configuration (optional):"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"sudo systemctl daemon-reload\n"})}),"\n",(0,i.jsx)(r.p,{children:"Then, start the service:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"sudo systemctl start mithril-signer\n"})}),"\n",(0,i.jsx)(r.p,{children:"Register the service to start on boot:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"sudo systemctl enable mithril-signer\n"})}),"\n",(0,i.jsx)(r.p,{children:"Monitor the status of the service:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"systemctl status mithril-signer.service\n"})}),"\n",(0,i.jsx)(r.p,{children:"Finally, monitor the logs of the service:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"tail /var/log/syslog\n"})}),"\n",(0,i.jsx)(r.h3,{id:"rotating-the-kes-keys",children:"Rotating the KES keys"}),"\n",(0,i.jsx)(r.admonition,{type:"danger",children:(0,i.jsx)(r.p,{children:"When the KES keys expire, the Mithril signer is unable to register with the Mithril protocol."})}),"\n",(0,i.jsx)(r.p,{children:"After rotating the KES keys on your Cardano block producer, we recommend following this upgrade procedure for your Mithril signer node:"}),"\n",(0,i.jsxs)(r.ol,{children:["\n",(0,i.jsxs)(r.li,{children:["Update the ",(0,i.jsx)(r.code,{children:"KES_SECRET_KEY_PATH"})," entry of your environment file to reflect the location of the ",(0,i.jsx)(r.strong,{children:"new KES secret key file"}),"."]}),"\n",(0,i.jsxs)(r.li,{children:["Update the ",(0,i.jsx)(r.code,{children:"OPERATIONAL_CERTIFICATE_PATH"})," entry of your environment file to reflect the location of the ",(0,i.jsx)(r.strong,{children:"new operational certificate file"}),"."]}),"\n",(0,i.jsx)(r.li,{children:"Restart your Mithril signer service with the following command:"}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"sudo systemctl restart mithril-signer\n"})}),"\n",(0,i.jsxs)(r.ol,{start:"4",children:["\n",(0,i.jsxs)(r.li,{children:["Check the logs of your signer node and make sure that it has successfully registered after restarting (the following log should be displayed: ",(0,i.jsx)(r.code,{children:"STATE MACHINE: new cycle: Registered"}),")."]}),"\n"]}),"\n",(0,i.jsx)(r.h2,{id:"set-up-the-mithril-relay-node",children:"Set up the Mithril relay node"}),"\n",(0,i.jsx)(r.admonition,{type:"caution",children:(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["For ",(0,i.jsx)(r.strong,{children:"production"})," deployment, the setup of the ",(0,i.jsx)(r.strong,{children:"Mithril relay"})," is performed on the ",(0,i.jsx)(r.strong,{children:"Cardano relay"})," machine."]}),"\n"]}),"\n",(0,i.jsxs)(r.li,{children:["\n",(0,i.jsxs)(r.p,{children:["For ",(0,i.jsx)(r.strong,{children:"naive"})," deployment: this step is not necessary."]}),"\n"]}),"\n"]})}),"\n",(0,i.jsx)(r.h3,{id:"configuring-the-squid-service",children:"Configuring the Squid service"}),"\n",(0,i.jsx)(r.admonition,{type:"info",children:(0,i.jsxs)(r.p,{children:["The ",(0,i.jsx)(r.strong,{children:"Mithril relay"})," node serves as a forward proxy, relaying traffic between the ",(0,i.jsx)(r.strong,{children:"Mithril signer"})," and the ",(0,i.jsx)(r.strong,{children:"Mithril aggregator"}),". When appropriately configured, it facilitates the security of the ",(0,i.jsx)(r.strong,{children:"block-producing"})," node. You can use ",(0,i.jsx)(r.code,{children:"squid"})," to operate this forward proxy, and this section presents a recommended configuration."]})}),"\n",(0,i.jsx)(r.p,{children:"Verify that the service was correctly configured at installation:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"sudo systemctl status squid\n"})}),"\n",(0,i.jsx)(r.p,{children:"Make a copy of the original configuration:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"sudo cp /etc/squid/squid.conf /etc/squid/squid.conf.bak\n"})}),"\n",(0,i.jsx)(r.p,{children:"Prepare the forward proxy configuration file:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"sudo bash -c 'cat > /etc/squid/squid.conf << EOF\n# Listening port (port 3132 is recommended)\nhttp_port **YOUR_RELAY_LISTENING_PORT**\n\n# ACL for internal IP of your block producer node\nacl block_producer_internal_ip src **YOUR_BLOCK_PRODUCER_INTERNAL_IP**\n\n# ACL for aggregator endpoint\nacl aggregator_domain dstdomain .mithril.network\n\n# ACL for SSL port only\nacl SSL_port port 443\n\n# Allowed traffic\nhttp_access allow block_producer_internal_ip aggregator_domain SSL_port\n\n# Do not disclose block producer internal IP\nforwarded_for delete\n\n# Turn off via header\nvia off\n \n# Deny request for original source of a request\nfollow_x_forwarded_for deny all\n \n# Anonymize request headers\nrequest_header_access Authorization allow all\nrequest_header_access Proxy-Authorization allow all\nrequest_header_access Cache-Control allow all\nrequest_header_access Content-Length allow all\nrequest_header_access Content-Type allow all\nrequest_header_access Date allow all\nrequest_header_access Host allow all\nrequest_header_access If-Modified-Since allow all\nrequest_header_access Pragma allow all\nrequest_header_access Accept allow all\nrequest_header_access Accept-Charset allow all\nrequest_header_access Accept-Encoding allow all\nrequest_header_access Accept-Language allow all\nrequest_header_access Connection allow all\nrequest_header_access All deny all\n\n# Disable cache\ncache deny all\n\n# Deny everything else\nhttp_access deny all\nEOF'\n"})}),"\n",(0,i.jsxs)(r.admonition,{type:"tip",children:[(0,i.jsxs)(r.p,{children:["Here is an example of the aforementioned command created with the example set for ",(0,i.jsx)(r.code,{children:"release-preprod"}),":"]}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"sudo bash -c 'cat > /etc/squid/squid.conf << EOF\n# Listening port (port 3132 is recommended)\nhttp_port 3132\n\n# ACL for internal IP of your block producer node\nacl block_producer_internal_ip src 192.168.1.75\n\n# ACL for aggregator endpoint\nacl aggregator_domain dstdomain .mithril.network\n\n# ACL for SSL port only\nacl SSL_port port 443\n\n# Allowed traffic\nhttp_access allow block_producer_internal_ip aggregator_domain SSL_port\n\n# Do not disclose block producer internal IP\nforwarded_for delete\n\n# Turn off via header\nvia off\n \n# Deny request for original source of a request\nfollow_x_forwarded_for deny all\n \n# Anonymize request headers\nrequest_header_access Authorization allow all\nrequest_header_access Proxy-Authorization allow all\nrequest_header_access Cache-Control allow all\nrequest_header_access Content-Length allow all\nrequest_header_access Content-Type allow all\nrequest_header_access Date allow all\nrequest_header_access Host allow all\nrequest_header_access If-Modified-Since allow all\nrequest_header_access Pragma allow all\nrequest_header_access Accept allow all\nrequest_header_access Accept-Charset allow all\nrequest_header_access Accept-Encoding allow all\nrequest_header_access Accept-Language allow all\nrequest_header_access Connection allow all\nrequest_header_access All deny all\n\n# Disable cache\ncache deny all\n\n# Deny everything else\nhttp_access deny all\nEOF'\n"})})]}),"\n",(0,i.jsxs)(r.admonition,{type:"tip",children:[(0,i.jsx)(r.p,{children:"In case you are using the same Cardano relay for multiple Cardano block producers, you will need to add a new line per block producer for authorizing its internal IP:"}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"# ACL for internal IP of your block producer node\nacl block_producer_internal_ip src **YOUR_BLOCK_PRODUCER_INTERNAL_IP_1**\nacl block_producer_internal_ip src **YOUR_BLOCK_PRODUCER_INTERNAL_IP_2**\nacl block_producer_internal_ip src **YOUR_BLOCK_PRODUCER_INTERNAL_IP_3**\n"})})]}),"\n",(0,i.jsx)(r.p,{children:"With this configuration, the proxy will:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"accept incoming traffic originating from the internal IP of the block-producing machine"}),"\n",(0,i.jsx)(r.li,{children:"accept incoming traffic directed to the listening port of the proxy"}),"\n",(0,i.jsxs)(r.li,{children:["accept incoming HTTPS traffic proxied to ",(0,i.jsx)(r.code,{children:"mithril.network"})," domain hosts"]}),"\n",(0,i.jsx)(r.li,{children:"anonymize completely the traffic and avoid disclosing any information about the block-producing machine"}),"\n",(0,i.jsx)(r.li,{children:"deny all other traffic"}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:"Restart the service:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"sudo systemctl restart squid\n"})}),"\n",(0,i.jsx)(r.p,{children:"Ensure it runs properly:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"sudo systemctl status squid\n"})}),"\n",(0,i.jsx)(r.p,{children:"Finally, monitor service logs:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"tail /var/log/syslog\n"})}),"\n",(0,i.jsxs)(r.admonition,{type:"info",children:[(0,i.jsx)(r.p,{children:"Here is the command to see squid access logs:"}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"tail /var/log/squid/access.log\n"})})]}),"\n",(0,i.jsx)(r.h3,{id:"firewall-configuration",children:"Firewall configuration"}),"\n",(0,i.jsx)(r.admonition,{type:"info",children:(0,i.jsxs)(r.p,{children:["We assume that the ",(0,i.jsx)(r.strong,{children:"Cardano relay"})," machine is protected by a firewall. It is necessary to allow the proxied traffic, originating from the ",(0,i.jsx)(r.strong,{children:"Cardano block producer"}),", through this firewall."]})}),"\n",(0,i.jsx)(r.h4,{id:"about-the-cardano-relay-machine",children:"About the Cardano relay machine"}),"\n",(0,i.jsxs)(r.p,{children:["You need to allow incoming traffic on the listening port of the ",(0,i.jsx)(r.strong,{children:"Mithril relay"})," on the ",(0,i.jsx)(r.strong,{children:"Cardano relay"})," machine, originating from the ",(0,i.jsx)(r.strong,{children:"Cardano block producer"})," machine."]}),"\n",(0,i.jsxs)(r.p,{children:["Assuming you are using ",(0,i.jsx)(r.a,{href:"https://en.wikipedia.org/wiki/Uncomplicated_Firewall",children:(0,i.jsx)(r.code,{children:"Uncomplicated Firewall"})})," (",(0,i.jsx)(r.code,{children:"0.36+"}),"), the command to open that traffic is:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"sudo ufw allow from **YOUR_BLOCK_PRODUCER_INTERNAL_IP** to any port **YOUR_RELAY_LISTENING_PORT** proto tcp\n"})}),"\n",(0,i.jsxs)(r.admonition,{type:"tip",children:[(0,i.jsxs)(r.p,{children:["Here is an example of the aforementioned command created with the example set for ",(0,i.jsx)(r.code,{children:"release-preprod"}),":"]}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"sudo ufw allow from 192.168.1.75 to any port 3132 proto tcp\n"})})]}),"\n",(0,i.jsxs)(r.p,{children:["Assuming you are using ",(0,i.jsx)(r.a,{href:"https://en.wikipedia.org/wiki/Iptables",children:(0,i.jsx)(r.code,{children:"Iptables"})})," (",(0,i.jsx)(r.code,{children:"1.8.7+"}),"), the command to open that traffic is:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"sudo iptables -A INPUT -s **YOUR_BLOCK_PRODUCER_INTERNAL_IP** -p tcp --dport **YOUR_RELAY_LISTENING_PORT** -j ACCEPT\nsudo iptables -L -v\nsudo service netfilter-persistent save\n"})}),"\n",(0,i.jsxs)(r.admonition,{type:"tip",children:[(0,i.jsxs)(r.p,{children:["Here is an example of the aforementioned command created with the example set for ",(0,i.jsx)(r.code,{children:"release-preprod"}),":"]}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"sudo iptables -A INPUT -s 192.168.1.75 -p tcp --dport 3132 -j ACCEPT\nsudo iptables -L -v\nsudo service netfilter-persistent save\n"})})]}),"\n",(0,i.jsx)(r.h2,{id:"verify-the-mithril-signer-deployment",children:"Verify the Mithril signer deployment"}),"\n",(0,i.jsxs)(r.admonition,{type:"tip",children:[(0,i.jsxs)(r.p,{children:["There is a delay of ",(0,i.jsx)(r.code,{children:"2"})," epochs between the registration of the signer node and its ability to generate individual signatures. This delay is further explained in the ",(0,i.jsx)(r.a,{href:"https://mithril.network/doc/mithril/mithril-protocol/certificates",children:"Mithril certificate chain in depth"})," documentation."]}),(0,i.jsxs)(r.p,{children:["Once this delay has passed, you should be able to observe your ",(0,i.jsx)(r.code,{children:"PoolId"})," listed in some of the certificates accessible on the ",(0,i.jsx)(r.a,{href:"https://mithril.network/explorer",children:(0,i.jsx)(r.code,{children:"Mithril Explorer"})}),"."]})]}),"\n",(0,i.jsx)(r.h3,{id:"verify-your-signer-is-registered",children:"Verify your signer is registered"}),"\n",(0,i.jsx)(r.p,{children:"After installing the Mithril signer, you can verify that your node is registered by checking your Mithril signer node logs."}),"\n",(0,i.jsx)(r.p,{children:"First, download the script into the desired directory:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"wget https://mithril.network/doc/scripts/verify_signer_registration.sh\n"})}),"\n",(0,i.jsx)(r.p,{children:"Make the script executable:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"chmod +x verify_signer_registration.sh\n"})}),"\n",(0,i.jsx)(r.p,{children:"Finally, execute the script:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"PARTY_ID=**YOUR_PARTY_ID** AGGREGATOR_ENDPOINT=**YOUR_AGGREGATOR_ENDPOINT** ./verify_signer_registration.sh\n"})}),"\n",(0,i.jsxs)(r.admonition,{type:"tip",children:[(0,i.jsx)(r.p,{children:"Here is an example command:"}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"PARTY_ID=pool1hp72sauk0g0yqm4dzllz0pz6j93gewhllkzphn4hykkfmne43y AGGREGATOR_ENDPOINT=https://aggregator.release-preprod.api.mithril.network/aggregator ./verify_signer_registration.sh\n"})})]}),"\n",(0,i.jsx)(r.p,{children:"If your signer is registered, you should see this message:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:">> Congrats, your signer node is registered!\n"})}),"\n",(0,i.jsx)(r.p,{children:"Otherwise, you should see this error message:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:">> Oops, your signer node is not registered. Party ID not found among the signers registered at epoch 430.\n"})}),"\n",(0,i.jsx)(r.h3,{id:"verify-your-signer-contributes-with-individual-signatures",children:"Verify your signer contributes with individual signatures"}),"\n",(0,i.jsx)(r.p,{children:"After waiting for two epochs, you will be able to verify that your signer is contributing with individual signatures."}),"\n",(0,i.jsx)(r.p,{children:"First, download the script into the desired directory:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"wget https://mithril.network/doc/scripts/verify_signer_signature.sh\n"})}),"\n",(0,i.jsx)(r.p,{children:"Make the script executable:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"chmod +x verify_signer_signature.sh\n"})}),"\n",(0,i.jsx)(r.p,{children:"Finally, execute the script:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"PARTY_ID=**YOUR_PARTY_ID** AGGREGATOR_ENDPOINT=**YOUR_AGGREGATOR_ENDPOINT** ./verify_signer_signature.sh\n"})}),"\n",(0,i.jsxs)(r.admonition,{type:"tip",children:[(0,i.jsxs)(r.p,{children:["Here is an example of the aforementioned command created with the example set for ",(0,i.jsx)(r.code,{children:"release-preprod"}),":"]}),(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"PARTY_ID=pool1hp72sauk0g0yqm4dzllz0pz6j93gewhllkzphn4hykkfmne43y AGGREGATOR_ENDPOINT=https://aggregator.release-preprod.api.mithril.network/aggregator ./verify_signer_signature.sh\n"})})]}),"\n",(0,i.jsx)(r.p,{children:"If your signer is contributing, you should see this message:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:">> Congrats, you have signed this certificate: https://aggregator.release-preprod.api.mithril.network/aggregator/certificate/el3p289b03a223244285b2ls10839846ae7a69f1e8362824a383f376f93f723f !\n"})}),"\n",(0,i.jsx)(r.p,{children:"Otherwise, you should see this error message:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:">> Oops, your party id was not found in the last 20 certificates. Please try again later.\n"})})]})}function p(e={}){const{wrapper:r}={...(0,t.a)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},52571:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>c,toc:()=>h});var i=n(85893),t=n(11151),s=n(74866),l=n(85162);const a={unlisted:!0,hide_title:!0,hide_table_of_contents:!0},o=void 0,c={id:"networks-matrix",title:"networks-matrix",description:"Here is an updated list of all Mithril networks, including their configurations and current statuses:",source:"@site/root/networks-matrix.md",sourceDirName:".",slug:"/networks-matrix",permalink:"/doc/next/networks-matrix",draft:!1,unlisted:!0,editUrl:"https://github.com/input-output-hk/mithril/edit/main/docs/root/networks-matrix.md",tags:[],version:"current",frontMatter:{unlisted:!0,hide_title:!0,hide_table_of_contents:!0}},d={},h=[{value:"<code>release-mainnet</code>",id:"release-mainnet",level:2},{value:"<code>release-preprod</code>",id:"release-preprod",level:2},{value:"<code>pre-release-preview</code>",id:"pre-release-preview",level:2},{value:"<code>testing-preview</code>",id:"testing-preview",level:2}];function u(e){const r={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h2:"h2",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(r.p,{children:["Here is an updated list of all ",(0,i.jsx)(r.strong,{children:"Mithril networks"}),", including their configurations and current statuses:"]}),"\n",(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsx)(r.p,{children:"Last update: 07/21/2023"}),"\n"]}),"\n",(0,i.jsxs)(s.Z,{children:[(0,i.jsxs)(l.Z,{value:"mainnet",label:"Mainnet",default:!0,children:[(0,i.jsx)(r.h2,{id:"release-mainnet",children:(0,i.jsx)(r.code,{children:"release-mainnet"})}),(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Information"}),(0,i.jsx)(r.th,{children:"-"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Mithril network"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"release-mainnet"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Cardano network"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"mainnet"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Cardano magic id"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"-"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Supported"})}),(0,i.jsxs)(r.td,{children:["Yes ","\u2714\ufe0f"]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Status"})}),(0,i.jsx)(r.td,{children:"Beta \ud83d\udfe2"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Aggregator endpoint"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"https://aggregator.release-mainnet.api.mithril.network/aggregator"})," ",(0,i.jsx)(r.a,{href:"https://aggregator.release-mainnet.api.mithril.network/aggregator",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Genesis verification key"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-mainnet/genesis.vkey"})," ",(0,i.jsx)(r.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-mainnet/genesis.vkey",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Era reader adapter type"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"cardano-chain"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Era reader address"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-mainnet/era.addr"})," ",(0,i.jsx)(r.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-mainnet/era.addr",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Era reader verification key"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-mainnet/era.vkey"})," ",(0,i.jsx)(r.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-mainnet/era.vkey",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Build from"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.strong,{children:"Latest release"})," ",(0,i.jsx)(r.a,{href:"https://github.com/input-output-hk/mithril/releases/latest",children:"\u2197\ufe0f"})]})]})]})]})]}),(0,i.jsxs)(l.Z,{value:"preprod",label:"Preprod",children:[(0,i.jsx)(r.h2,{id:"release-preprod",children:(0,i.jsx)(r.code,{children:"release-preprod"})}),(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Information"}),(0,i.jsx)(r.th,{children:"-"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Mithril network"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"release-preprod"})," ",(0,i.jsx)(r.a,{href:"https://mithril.network/explorer?aggregator=https%3A%2F%2Faggregator.release-preprod.api.mithril.network%2Faggregator",children:"\ud83d\udd0e"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Cardano network"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"preprod"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Cardano magic Id"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"1"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Supported"})}),(0,i.jsxs)(r.td,{children:["Yes ","\u2714\ufe0f"]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Status"})}),(0,i.jsx)(r.td,{children:"Release \ud83d\udfe2"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Aggregator endpoint"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"https://aggregator.release-preprod.api.mithril.network/aggregator"})," ",(0,i.jsx)(r.a,{href:"https://aggregator.release-preprod.api.mithril.network/aggregator",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Genesis verification key"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-preprod/genesis.vkey"})," ",(0,i.jsx)(r.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-preprod/genesis.vkey",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Era reader adapter type"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"cardano-chain"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Era reader address"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-preprod/era.addr"})," ",(0,i.jsx)(r.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-preprod/era.addr",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Era reader verification key"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-preprod/era.vkey"})," ",(0,i.jsx)(r.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-preprod/era.vkey",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Build from"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.strong,{children:"Latest release"})," ",(0,i.jsx)(r.a,{href:"https://github.com/input-output-hk/mithril/releases/latest",children:"\u2197\ufe0f"})]})]})]})]})]}),(0,i.jsxs)(l.Z,{value:"preview",label:"Preview",children:[(0,i.jsx)(r.h2,{id:"pre-release-preview",children:(0,i.jsx)(r.code,{children:"pre-release-preview"})}),(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Information"}),(0,i.jsx)(r.th,{children:"-"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Mithril network"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"pre-release-preview"})," ",(0,i.jsx)(r.a,{href:"https://mithril.network/explorer?aggregator=https%3A%2F%2Faggregator.pre-release-preview.api.mithril.network%2Faggregator",children:"\ud83d\udd0e"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Cardano network"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"preview"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Cardano magic Id"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"2"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Supported"})}),(0,i.jsxs)(r.td,{children:["Yes ","\u2714\ufe0f"]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Status"})}),(0,i.jsx)(r.td,{children:"Pre-release \ud83d\udfe0"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Aggregator endpoint"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"https://aggregator.pre-release-preview.api.mithril.network/aggregator"})," ",(0,i.jsx)(r.a,{href:"https://aggregator.pre-release-preview.api.mithril.network/aggregator",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Genesis verification key"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/pre-release-preview/genesis.vkey"})," ",(0,i.jsx)(r.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/pre-release-preview/genesis.vkey",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Era reader adapter type"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"cardano-chain"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Era reader address"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/pre-release-preview/era.addr"})," ",(0,i.jsx)(r.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/pre-release-preview/era.addr",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Era reader verification key"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/pre-release-preview/era.vkey"})," ",(0,i.jsx)(r.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/pre-release-preview/era.vkey",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Build from"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.strong,{children:"Latest pre-release"})," ",(0,i.jsx)(r.a,{href:"https://github.com/input-output-hk/mithril/releases?q=pre",children:"\u2197\ufe0f"})]})]})]})]}),(0,i.jsx)("br",{}),(0,i.jsx)(r.h2,{id:"testing-preview",children:(0,i.jsx)(r.code,{children:"testing-preview"})}),(0,i.jsxs)(r.blockquote,{children:["\n",(0,i.jsxs)(r.p,{children:["\u26a0\ufe0f"," For devs only"]}),"\n"]}),(0,i.jsxs)(r.table,{children:[(0,i.jsx)(r.thead,{children:(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.th,{children:"Information"}),(0,i.jsx)(r.th,{children:"-"})]})}),(0,i.jsxs)(r.tbody,{children:[(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Mithril network"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"testing-preview"})," ",(0,i.jsx)(r.a,{href:"https://mithril.network/explorer?aggregator=https%3A%2F%2Faggregator.testing-preview.api.mithril.network%2Faggregator",children:"\ud83d\udd0e"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Cardano network"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"preview"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Cardano magic Id"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"2"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Supported"})}),(0,i.jsxs)(r.td,{children:["Yes ","\u2714\ufe0f"]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Status"})}),(0,i.jsx)(r.td,{children:"Unstable \ud83d\udd34"})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Aggregator endpoint"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"https://aggregator.testing-preview.api.mithril.network/aggregator"})," ",(0,i.jsx)(r.a,{href:"https://aggregator.testing-preview.api.mithril.network/aggregator",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Genesis verification key"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/testing-preview/genesis.vkey"})," ",(0,i.jsx)(r.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/testing-preview/genesis.vkey",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Era reader adapter type"})}),(0,i.jsx)(r.td,{children:(0,i.jsx)(r.code,{children:"cardano-chain"})})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Era reader address"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/testing-preview/era.addr"})," ",(0,i.jsx)(r.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/testing-preview/era.addr",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Era reader verification key"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/testing-preview/era.vkey"})," ",(0,i.jsx)(r.a,{href:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/testing-preview/era.vkey",children:"\u2197\ufe0f"})]})]}),(0,i.jsxs)(r.tr,{children:[(0,i.jsx)(r.td,{children:(0,i.jsx)(r.strong,{children:"Build from"})}),(0,i.jsxs)(r.td,{children:[(0,i.jsx)(r.strong,{children:"Main branch"})," ",(0,i.jsx)(r.a,{href:"https://github.com/input-output-hk/mithril/tree/main",children:"\u2197\ufe0f"})]})]})]})]})]})]}),"\n",(0,i.jsxs)(r.admonition,{type:"caution",children:[(0,i.jsx)(r.p,{children:"In this documentation, we use the following generic identifiers:"}),(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.strong,{children:"YOUR_CARDANO_NETWORK"})})," You need to replace this with the name of the network that runs on your Cardano node (eg, ",(0,i.jsx)(r.code,{children:"preprod"}),")"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.strong,{children:"YOUR_AGGREGATOR_ENDPOINT"})})," You need to replace this with the endpoint of an aggregator that runs on the Cardano network you are targeting (eg, ",(0,i.jsx)(r.code,{children:"https://aggregator.release-preprod.api.mithril.network/aggregator"}),")"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.strong,{children:"YOUR_GENESIS_VERIFICATION_KEY"})})," You need to replace this with the genesis verification key URL that runs on the Cardano network you are targeting (eg, ",(0,i.jsx)(r.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/release-preprod/genesis.vkey"}),")"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.strong,{children:"YOUR_ERA_READER_ADAPTER_TYPE"})})," You need to replace this with the era reader adapter type used by the Mithril network you are targeting (eg, ",(0,i.jsx)(r.code,{children:"cardano-chain"}),")"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.strong,{children:"YOUR_ERA_READER_ADDRESS"})})," You need to replace this with the era reader address URL used by the Mithril network you are targeting (eg, ",(0,i.jsx)(r.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/address.addr"}),")"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.strong,{children:(0,i.jsx)(r.strong,{children:"YOUR_ERA_READER_VERIFICATION_KEY"})})," You need to replace this with the era reader verification key URL used by the Mithril network you are targeting (eg, ",(0,i.jsx)(r.code,{children:"https://raw.githubusercontent.com/input-output-hk/mithril/main/TEST_ONLY_era.vkey"}),")"]}),"\n"]})]})]})}function p(e={}){const{wrapper:r}={...(0,t.a)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},85162:(e,r,n)=>{n.d(r,{Z:()=>l});n(67294);var i=n(90512);const t={tabItem:"tabItem_Ymn6"};var s=n(85893);function l(e){let{children:r,hidden:n,className:l}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,i.Z)(t.tabItem,l),hidden:n,children:r})}},74866:(e,r,n)=>{n.d(r,{Z:()=>v});var i=n(67294),t=n(90512),s=n(12466),l=n(16550),a=n(20469),o=n(91980),c=n(67392),d=n(50012);function h(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:r,children:n}=e;return(0,i.useMemo)((()=>{const e=r??function(e){return h(e).map((e=>{let{props:{value:r,label:n,attributes:i,default:t}}=e;return{value:r,label:n,attributes:i,default:t}}))}(n);return function(e){const r=(0,c.l)(e,((e,r)=>e.value===r.value));if(r.length>0)throw new Error(`Docusaurus error: Duplicate values "${r.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[r,n])}function p(e){let{value:r,tabValues:n}=e;return n.some((e=>e.value===r))}function g(e){let{queryString:r=!1,groupId:n}=e;const t=(0,l.k6)(),s=function(e){let{queryString:r=!1,groupId:n}=e;if("string"==typeof r)return r;if(!1===r)return null;if(!0===r&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:r,groupId:n});return[(0,o._X)(s),(0,i.useCallback)((e=>{if(!s)return;const r=new URLSearchParams(t.location.search);r.set(s,e),t.replace({...t.location,search:r.toString()})}),[s,t])]}function x(e){const{defaultValue:r,queryString:n=!1,groupId:t}=e,s=u(e),[l,o]=(0,i.useState)((()=>function(e){let{defaultValue:r,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(r){if(!p({value:r,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${r}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return r}const i=n.find((e=>e.default))??n[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:r,tabValues:s}))),[c,h]=g({queryString:n,groupId:t}),[x,j]=function(e){let{groupId:r}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(r),[t,s]=(0,d.Nk)(n);return[t,(0,i.useCallback)((e=>{n&&s.set(e)}),[n,s])]}({groupId:t}),m=(()=>{const e=c??x;return p({value:e,tabValues:s})?e:null})();(0,a.Z)((()=>{m&&o(m)}),[m]);return{selectedValue:l,selectValue:(0,i.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);o(e),h(e),j(e)}),[h,j,s]),tabValues:s}}var j=n(72389);const m={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=n(85893);function _(e){let{className:r,block:n,selectedValue:i,selectValue:l,tabValues:a}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.o5)(),d=e=>{const r=e.currentTarget,n=o.indexOf(r),t=a[n].value;t!==i&&(c(r),l(t))},h=e=>{let r=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=o.indexOf(e.currentTarget)+1;r=o[n]??o[0];break}case"ArrowLeft":{const n=o.indexOf(e.currentTarget)-1;r=o[n]??o[o.length-1];break}}r?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.Z)("tabs",{"tabs--block":n},r),children:a.map((e=>{let{value:r,label:n,attributes:s}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:i===r?0:-1,"aria-selected":i===r,ref:e=>o.push(e),onKeyDown:h,onClick:d,...s,className:(0,t.Z)("tabs__item",m.tabItem,s?.className,{"tabs__item--active":i===r}),children:n??r},r)}))})}function y(e){let{lazy:r,children:n,selectedValue:t}=e;const s=(Array.isArray(n)?n:[n]).filter(Boolean);if(r){const e=s.find((e=>e.props.value===t));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:s.map(((e,r)=>(0,i.cloneElement)(e,{key:r,hidden:e.props.value!==t})))})}function b(e){const r=x(e);return(0,f.jsxs)("div",{className:(0,t.Z)("tabs-container",m.tabList),children:[(0,f.jsx)(_,{...e,...r}),(0,f.jsx)(y,{...e,...r})]})}function v(e){const r=(0,j.Z)();return(0,f.jsx)(b,{...e,children:h(e.children)},String(r))}},66182:(e,r,n)=>{n.d(r,{Z:()=>i});const i=n.p+"assets/files/signer-deployment-naive-6f2cc44fb5738b30cc3b5c370042845a.jpg"},34310:(e,r,n)=>{n.d(r,{Z:()=>i});const i=n.p+"assets/files/signer-deployment-production-691bb17c165b4da09c46222bc71c06ac.jpg"},50532:(e,r,n)=>{n.d(r,{Z:()=>i});const i=n.p+"assets/images/signer-deployment-naive-6f2cc44fb5738b30cc3b5c370042845a.jpg"},82997:(e,r,n)=>{n.d(r,{Z:()=>i});const i=n.p+"assets/images/signer-deployment-production-691bb17c165b4da09c46222bc71c06ac.jpg"},11151:(e,r,n)=>{n.d(r,{Z:()=>a,a:()=>l});var i=n(67294);const t={},s=i.createContext(t);function l(e){const r=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(s.Provider,{value:r},e.children)}}}]);