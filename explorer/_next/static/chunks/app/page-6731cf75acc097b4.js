(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{80:function(e,t,r){Promise.resolve().then(r.bind(r,6900))},1487:function(e,t,r){"use strict";t.Z=["https://aggregator.release-mainnet.api.mithril.network/aggregator","https://aggregator.release-preprod.api.mithril.network/aggregator","https://aggregator.pre-release-preview.api.mithril.network/aggregator","https://aggregator.testing-preview.api.mithril.network/aggregator","http://localhost:8080/aggregator"]},6900:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return q}});var s=r(7437),n=r(2265),i=r(3046),a=r(4033),l=r(4930),c=r.n(l),o=r(3839),d=r(4665),h=r(8597),u=r(4434),g=r(8821),x=r(6272),j=r(6704),f=r(2824),m=r(6581),p=r(6716),v=r(2402),Z=r(3761),b=r(2410),y=r(1387),k=r(2943),w=r(105),S=r(9792),_=r(5047),I=r(825),N=r(9957);function C(e){let{protocolParameters:t,...r}=e;return(0,s.jsxs)(v.Z,{horizontal:!0,...r,children:[(0,s.jsxs)(v.Z.Item,{children:[(0,s.jsx)("em",{children:"k:"})," ",null==t?void 0:t.k]}),(0,s.jsxs)(v.Z.Item,{children:[(0,s.jsx)("em",{children:"m:"})," ",null==t?void 0:t.m]}),(0,s.jsxs)(v.Z.Item,{children:[(0,s.jsx)("em",{children:"f:"})," ",null==t?void 0:t.phi_f]})]})}var F=r(7898),E=r(9639),B=r(4356);function A(e){let{datetime:t}=e;return(0,s.jsx)(s.Fragment,{children:new Date(t).toLocaleString()})}var M=r(7019);function P(e){let{show:t,onClose:r,certificateHash:a}=e,l=(0,i.v9)(e=>e.settings.selectedAggregator),[c,o]=(0,n.useState)(!1),[d,h]=(0,n.useState)(null),[u,g]=(0,n.useState)(null),[x,j]=(0,n.useState)(!1);async function f(){await (0,B.ZP)();let e=await m();return new B.SJ(l,e)}async function m(){try{let e=(0,M.computeAggregatorNetworkFromUrl)(l),t=await fetch("https://raw.githubusercontent.com/input-output-hk/mithril/main/mithril-infra/configuration/"+e+"/genesis.vkey");if(!t.ok)throw Error("Failed to fetch the genesis verification key. Status: ".concat(t.status));return await t.text()}catch(e){throw console.error("Error fetching genesis verification key:",e.message),e}}function p(e){let t=e.data;"CertificateChainValidationStarted"===t.type?v("The certificate chain validation has started..."):"CertificateValidated"===t.type?v("A certificate has been validated, hash: <strong>"+t.payload.certificate_hash+"<strong>"):"CertificateChainValidated"===t.type?v("<strong>The certificate chain is valid âœ…<strong>"):v(t)}function v(e){let t=document.createElement("div");t.innerHTML=e;let r=document.getElementById("mithril-events");r&&(r.appendChild(t),r.scrollTop=r.scrollHeight)}return(0,n.useEffect)(()=>{async function e(){try{let e=await f();if(null!=a){let t=performance.now(),r=await e.get_mithril_certificate(a);h(r),await e.verify_certificate_chain(a),g((0,M.formatProcessDuration)(t))}}catch(e){console.error("Error:",e)}finally{o(!1)}}let r=new BroadcastChannel("mithril-client");return r.onmessage=p,a&&t?(o(!0),e()):(h(null),o(!1)),()=>{r.onmessage=null}},[t]),(0,s.jsxs)(b.Z,{show:t,onHide:()=>{c?j(!0):r()},size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,s.jsx)(b.Z.Header,{closeButton:!0,children:(0,s.jsx)(b.Z.Title,{children:"Verify certificate"})}),(0,s.jsxs)(b.Z.Body,{children:[x&&c&&(0,s.jsx)("div",{className:"alert alert-warning",role:"alert",children:"Verification is in progress. Please wait until the process is complete (less than a minute)."}),d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h4",{children:"Certificate Details"}),(0,s.jsxs)("div",{children:["Certificate hash: ",d.hash]}),(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,s.jsxs)("div",{children:["Sealed at: ",(0,s.jsx)(A,{datetime:d.metadata.sealed_at})]}),c?(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,s.jsx)("div",{style:{marginLeft:"10px",paddingRight:"10px"},children:"Verifying the certificate chain..."}),(0,s.jsx)(E.Z,{animation:"border",variant:"primary"})]}):(0,s.jsxs)("div",{style:{marginLeft:"10px",paddingRight:"10px"},children:["Verification duration: ",u]})]}),(0,s.jsx)("hr",{}),(0,s.jsx)("div",{children:(0,s.jsx)("div",{id:"mithril-events",style:{height:"400px",maxHeight:"400px",overflowY:"auto",marginTop:"10px"}})})]})]}),(0,s.jsx)(b.Z.Footer,{})]})}function z(e){var t,r;let[a,l]=(0,n.useState)({}),[c,o]=(0,n.useState)({stakesBreakdown:{}}),[d,g]=(0,n.useState)(!1),x=(0,i.v9)(t=>"".concat((0,_.k6)(t),"/certificate/").concat(e.hash)),j=(0,i.v9)(_.k6);return(0,n.useEffect)(()=>{e.hash&&fetch(x).then(e=>200===e.status?e.json():{}).then(e=>{l(e),o({stakesBreakdown:(0,S.Q2)(e.metadata.signers)})}).catch(e=>{l({}),console.error("Fetch certificate error:",e)})},[x,e.hash]),(0,s.jsxs)(b.Z,{show:void 0!==e.hash,onHide:function(){e.onHashChange(void 0)},size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,s.jsx)(b.Z.Header,{className:"text-break",closeButton:!0,children:(0,s.jsxs)(b.Z.Title,{id:"contained-modal-title-vcenter",children:["Certificate ",a.hash]})}),(0,s.jsx)(b.Z.Body,{children:0===Object.entries(a).length?(0,s.jsx)("p",{children:"Not found"}):(0,s.jsxs)(f.Z,{children:[(0,s.jsxs)(h.Z,{md:1,xl:"auto",children:[(0,s.jsxs)(u.Z,{xl:4,className:"mb-3",children:[(0,s.jsx)("h4",{children:"Beacon"}),(0,s.jsx)(y.Z,{className:"mb-3",children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("em",{children:"Network:"})}),(0,s.jsx)("td",{children:a.beacon.network})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("em",{children:"Epoch:"})}),(0,s.jsx)("td",{children:a.beacon.epoch})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("em",{children:"Immutable File Number:"})}),(0,s.jsx)("td",{children:a.beacon.immutable_file_number})]})]})}),(0,s.jsx)("h4",{children:"Protocol Parameters"}),(0,s.jsx)(C,{className:"mb-3",protocolParameters:a.metadata.parameters}),(0,s.jsx)("h4",{children:"Statistics"}),(0,s.jsx)(y.Z,{className:"mb-0",children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("em",{children:"Number of signers:"})}),(0,s.jsx)("td",{children:null!==(t=null==a?void 0:a.metadata.signers.length)&&void 0!==t?t:0})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:(0,s.jsx)("em",{children:"Total stakes:"})}),(0,s.jsx)("td",{children:(0,s.jsx)(N.Z,{lovelace:null!==(r=null==a?void 0:a.metadata.signers.reduce((e,t)=>e+t.stake,0))&&void 0!==r?r:0})})]})]})})]}),(0,s.jsx)(u.Z,{xl:8,className:"mb-1",children:""!==a.genesis_signature?(0,s.jsxs)("div",{children:["This is the chain"," ",(0,s.jsx)("em",{children:(0,s.jsx)("strong",{children:"Genesis Certificate"})}),", since it's manually created it doesn't contain any Signers."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h4",{children:"Stakes breakdown"}),(0,s.jsx)(w.$Q,{data:c.stakesBreakdown})]})})]}),(0,s.jsx)(h.Z,{children:""===a.genesis_signature&&(0,s.jsx)(k.Z,{children:(0,s.jsxs)(k.Z.Item,{eventKey:"signers",children:[(0,s.jsx)(k.Z.Header,{children:(0,s.jsx)("h4",{children:"Signers"})}),(0,s.jsx)(k.Z.Body,{children:0===a.metadata.signers.length?(0,s.jsx)("div",{children:"No Signers for this certificate, something went wrong either with the data retrieval or the signing process"}):(0,s.jsx)(F.Z,{signers:a.metadata.signers,aggregator:j})})]})})})]})}),(0,s.jsxs)(b.Z.Footer,{children:[(0,s.jsx)(p.Z,{size:"sm",onClick:()=>{g(!0)},className:"text-break",children:"Verify certificate"}),""!==a.genesis_signature?(0,s.jsx)(Z.Z,{bg:"warning",children:"Genesis"}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(p.Z,{size:"sm",onClick:function(){e.onHashChange(a.previous_hash)},className:"text-break",children:["Previous hash: ",a.previous_hash]})}),(0,s.jsx)(I.Z,{href:x,size:"sm"})]}),(0,s.jsx)(P,{show:d,onClose:()=>g(!1),certificateHash:a.hash})]})}function T(e){let[t,r]=(0,n.useState)([]),[a,l]=(0,n.useState)(void 0),c=(0,i.v9)(_.k6),d=(0,i.v9)(e=>"".concat((0,_.k6)(e),"/certificates")),g=(0,i.v9)(e=>e.settings.autoUpdate),x=(0,i.v9)(e=>e.settings.updateInterval);return(0,n.useEffect)(()=>{if(!g)return;let e=()=>{fetch(d).then(e=>e.json()).then(e=>r(e)).catch(e=>{r([]),console.error("Fetch certificates error:",e)})};e();let t=setInterval(e,x);return()=>clearInterval(t)},[d,x,g]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(z,{hash:a,onHashChange:function(e){l(e)}}),(0,s.jsxs)("div",{className:e.className,children:[(0,s.jsxs)("h2",{children:["Certificates"," ",(0,s.jsx)(I.Z,{href:d,variant:"outline-light",size:"sm"})]}),0===Object.entries(t).length?(0,s.jsx)("p",{children:"No certificate available"}):(0,s.jsx)(f.Z,{fluid:!0,children:(0,s.jsx)(h.Z,{xs:1,md:2,lg:3,xl:4,children:t.map((e,t)=>(0,s.jsx)(u.Z,{className:"mb-2",children:(0,s.jsxs)(m.Z,{border:0===t?"primary":"",children:[(0,s.jsxs)(m.Z.Body,{children:[(0,s.jsxs)(m.Z.Title,{children:[e.hash," ",(0,s.jsx)(p.Z,{size:"sm",onClick:()=>{l(e.hash)},children:"Details"})]}),(0,s.jsxs)(v.Z,{variant:"flush",className:"data-list-group",children:[(0,s.jsxs)(v.Z.Item,{children:["Parent hash: ",e.previous_hash," ",(0,s.jsx)(p.Z,{size:"sm",onClick:()=>{l(e.previous_hash)},children:"Show"})]}),(0,s.jsxs)(v.Z.Item,{children:["Epoch: ",e.beacon.epoch]}),(0,s.jsxs)(v.Z.Item,{children:["Immutable file number: ",e.beacon.immutable_file_number]}),(0,s.jsxs)(v.Z.Item,{children:["Number of signers: ",e.metadata.total_signers]}),(0,s.jsxs)(v.Z.Item,{children:["Initiated at:"," ",(0,s.jsx)(A,{datetime:e.metadata.initiated_at})]}),(0,s.jsxs)(v.Z.Item,{children:["Sealed at: ",(0,s.jsx)(A,{datetime:e.metadata.sealed_at})]})]})]}),(0,s.jsx)(m.Z.Footer,{children:(0,s.jsxs)(o.Z,{direction:"horizontal",gap:1,children:[0===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Z.Z,{bg:"primary",children:"Latest"})," "]}),(0,s.jsx)(Z.Z,{bg:"secondary",children:e.beacon.network}),(0,s.jsx)(I.Z,{href:"".concat(c,"/certificate/").concat(e.hash),size:"sm",className:"ms-auto"})]})})]})},e.hash))})})]})]})}var U=r(1860);function H(e){let[t,r]=(0,n.useState)({}),a=(0,i.v9)(e=>e.settings.selectedAggregator),l=(0,i.v9)(e=>"".concat((0,_.k6)(e),"/epoch-settings")),c=(0,i.v9)(e=>e.settings.autoUpdate),o=(0,i.v9)(e=>e.settings.updateInterval),[d,h]=(0,n.useState)(void 0);return(0,n.useEffect)(()=>{if(!c)return;let e=()=>{fetch(l).then(e=>200===e.status?e.json():{}).then(e=>r(e)).catch(e=>{r({}),console.error("Fetch epoch-settings error:",e)})};e();let t=setInterval(e,o);return()=>clearInterval(t)},[l,o,c]),(0,n.useEffect)(()=>{if((0,M.checkUrl)(a)&&Number.isInteger(null==t?void 0:t.epoch)){let e=new URLSearchParams;e.set("aggregator",a),e.set("epoch",t.epoch),h("/registrations?".concat(e.toString()))}},[a,t]),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{children:["Epoch Settings",(0,s.jsx)(I.Z,{href:l,variant:"outline-light",size:"sm"})]}),(0,s.jsxs)(m.Z,{children:[(0,s.jsxs)(m.Z.Body,{children:[(0,s.jsx)(m.Z.Title,{children:"Current Epoch"}),(0,s.jsx)("div",{className:"mb-2 ps-3",children:t.epoch}),(0,s.jsx)(m.Z.Title,{children:"Protocol Parameters"}),(0,s.jsx)(C,{className:"mb-2",protocolParameters:t.protocol}),(0,s.jsx)(m.Z.Title,{children:"Next Protocol Parameters"}),(0,s.jsx)(C,{protocolParameters:t.next_protocol})]}),d&&(0,s.jsx)(m.Z.Footer,{className:"text-center",children:(0,s.jsx)(U.Z,{href:d,children:"Registered Signers"})})]})]})}var D=r(8402),L=r(4171),V=r(3800);function R(e){let{signedEntityType:t}=e,[r,i]=(0,n.useState)(""),[a,l]=(0,n.useState)({});return(0,n.useEffect)(()=>{let e=Object.keys(t).at(0);if(i(e),"MithrilStakeDistribution"===e||"CardanoStakeDistribution"===e)l({epoch:t[e]});else{var r;l(null!==(r=t[e])&&void 0!==r?r:{})}},[t]),(0,s.jsxs)(v.Z,{children:[(0,s.jsx)(v.Z.Item,{children:(0,s.jsx)("h6",{children:r})}),(0,s.jsx)(v.Z.Item,{children:(0,s.jsx)(v.Z,{horizontal:"xxl",children:Object.entries(a).map(e=>{let[t,r]=e;return(0,s.jsxs)(v.Z.Item,{children:[t,": ",r]},t)})})})]})}var O=r(657);function K(e){let[t,r]=(0,n.useState)({}),a=(0,i.v9)(e=>"".concat((0,_.k6)(e),"/certificate-pending")),l=(0,i.v9)(_.k6),c=(0,i.v9)(e=>e.settings.autoUpdate),o=(0,i.v9)(e=>e.settings.updateInterval);return(0,n.useEffect)(()=>{if(!c)return;let e=()=>{fetch(a).then(e=>200===e.status?e.json():{}).then(e=>r(e)).catch(e=>{r({}),console.error("Fetch certificate-pending error:",e)})};e();let t=setInterval(e,o);return()=>clearInterval(t)},[a,o,c]),(0,s.jsxs)("div",{className:e.className,children:[(0,s.jsxs)("h2",{children:["Pending Certificate",0!==Object.entries(t).length&&(0,s.jsx)(I.Z,{href:a,variant:"outline-light",size:"sm"})]}),0===Object.entries(t).length?(0,s.jsx)("p",{children:"No pending certificate available"}):(0,s.jsxs)(D.Z,{children:[(0,s.jsx)(m.Z,{children:(0,s.jsxs)(m.Z.Body,{children:[(0,s.jsx)(m.Z.Title,{children:"Beacon"}),(0,s.jsxs)(v.Z,{className:"mb-2",variant:"flush",children:[(0,s.jsxs)(v.Z.Item,{children:["Network: ",t.beacon.network]}),(0,s.jsxs)(v.Z.Item,{children:["Epoch: ",t.beacon.epoch]})]}),(0,s.jsx)(m.Z.Title,{children:"Entity Type"}),(0,s.jsx)(R,{signedEntityType:t.entity_type})]})}),(0,s.jsx)(m.Z,{children:(0,s.jsx)(m.Z.Body,{children:0===t.signers.length?(0,s.jsx)("div",{children:"No Signers registered"}):(0,s.jsxs)(k.Z,{children:[(0,s.jsxs)(k.Z.Item,{eventKey:"signers",children:[(0,s.jsx)(k.Z.Header,{children:(0,s.jsxs)("h4",{children:["Signers (",t.signers.length,")"]})}),(0,s.jsx)(k.Z.Body,{children:(0,s.jsxs)(v.Z,{variant:"flush",children:[(0,s.jsx)(v.Z.Item,{children:(0,s.jsx)("b",{children:"Pools"})}),t.signers.map(e=>(0,s.jsxs)(v.Z.Item,{children:[(0,s.jsx)(V.Z,{partyId:e.party_id,aggregator:l}),(0,s.jsx)("br",{}),(0,s.jsx)(L.Z,{partyId:e.party_id}),e.verification_key_signature&&(0,s.jsx)("div",{className:"float-end",children:(0,s.jsx)(O.Z,{tooltip:"Verified Signer"})})]},e.party_id))]})})]}),(0,s.jsxs)(k.Z.Item,{eventKey:"next-signers",children:[(0,s.jsx)(k.Z.Header,{children:(0,s.jsxs)("h4",{children:["Next Signers (",t.next_signers.length,")"]})}),(0,s.jsx)(k.Z.Body,{children:(0,s.jsxs)(v.Z,{variant:"flush",children:[(0,s.jsx)(v.Z.Item,{children:(0,s.jsx)("b",{children:"Pools"})}),t.next_signers.map(e=>(0,s.jsxs)(v.Z.Item,{children:[(0,s.jsx)(V.Z,{partyId:e.party_id,aggregator:l}),(0,s.jsx)("br",{}),(0,s.jsx)(L.Z,{partyId:e.party_id}),e.verification_key_signature&&(0,s.jsx)("div",{className:"float-end",children:(0,s.jsx)(O.Z,{tooltip:"Verified Signer"})})]},e.party_id))]})})]})]})})})]})]})}function G(e){let[t,r]=(0,n.useState)([]),[a,l]=(0,n.useState)(void 0),c=(0,i.v9)(_.k6),d=(0,i.v9)(e=>"".concat((0,_.k6)(e),"/artifact/snapshots")),g=(0,i.v9)(e=>e.settings.autoUpdate),x=(0,i.v9)(e=>e.settings.updateInterval);return(0,n.useEffect)(()=>{if(!g)return;let e=()=>{fetch(d).then(e=>e.json()).then(e=>r(e)).catch(e=>{r([]),console.error("Fetch snapshots error:",e)})};e();let t=setInterval(e,x);return()=>clearInterval(t)},[d,x,g]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(z,{hash:a,onHashChange:function(e){l(e)}}),(0,s.jsxs)("div",{className:e.className,children:[(0,s.jsxs)("h2",{children:["Snapshots ",(0,s.jsx)(I.Z,{href:d,variant:"outline-light",size:"sm"})]}),0===Object.entries(t).length?(0,s.jsx)("p",{children:"No snapshot available"}):(0,s.jsx)(f.Z,{fluid:!0,children:(0,s.jsx)(h.Z,{xs:1,md:2,lg:3,xl:4,children:t.map((e,t)=>(0,s.jsx)(u.Z,{className:"mb-2",children:(0,s.jsxs)(m.Z,{border:0===t?"primary":"",children:[(0,s.jsxs)(m.Z.Body,{children:[(0,s.jsx)(m.Z.Title,{children:e.digest}),(0,s.jsxs)(v.Z,{variant:"flush",className:"data-list-group",children:[(0,s.jsxs)(v.Z.Item,{children:["Epoch: ",e.beacon.epoch]}),(0,s.jsxs)(v.Z.Item,{children:["Immutable file number: ",e.beacon.immutable_file_number]}),e.cardano_node_version&&(0,s.jsxs)(v.Z.Item,{children:["Cardano node: ",e.cardano_node_version]}),e.compression_algorithm&&(0,s.jsxs)(v.Z.Item,{children:["Compression: ",e.compression_algorithm]}),(0,s.jsxs)(v.Z.Item,{children:["Certificate hash: ",(0,s.jsx)("br",{}),e.certificate_hash," ",(0,s.jsx)(p.Z,{size:"sm",onClick:()=>{l(e.certificate_hash)},children:"Show"})]}),(0,s.jsxs)(v.Z.Item,{children:["Created: ",(0,s.jsx)(A,{datetime:e.created_at})]}),(0,s.jsxs)(v.Z.Item,{children:["Archive size: ",(0,M.formatBytes)(e.size)]})]})]}),(0,s.jsx)(m.Z.Footer,{children:(0,s.jsxs)(o.Z,{direction:"horizontal",gap:1,children:[0===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Z.Z,{bg:"primary",children:"Latest"})," "]}),(0,s.jsx)(Z.Z,{bg:"secondary",children:e.beacon.network}),(0,s.jsx)(I.Z,{href:"".concat(c,"/snapshot/").concat(e.digest),size:"sm",className:"ms-auto"})]})})]})},e.digest))})})]})]})}function Q(e){let[t,r]=(0,n.useState)([]),[a,l]=(0,n.useState)(void 0),c=(0,i.v9)(_.k6),d=(0,i.v9)(e=>"".concat((0,_.k6)(e),"/artifact/mithril-stake-distributions")),g=(0,i.v9)(e=>e.settings.autoUpdate),x=(0,i.v9)(e=>e.settings.updateInterval);return(0,n.useEffect)(()=>{if(!g)return;let e=()=>{fetch(d).then(e=>e.json()).then(e=>r(e)).catch(e=>{r([]),console.error("Fetch mithrilStakeDistributions error:",e)})};e();let t=setInterval(e,x);return()=>clearInterval(t)},[d,x,g]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(z,{aggregator:c,hash:a,onHashChange:function(e){l(e)}}),(0,s.jsxs)("div",{className:e.className,children:[(0,s.jsxs)("h2",{children:["Mithril Stake Distribution"," ",(0,s.jsx)(I.Z,{href:d,variant:"outline-light",size:"sm"})]}),0===Object.entries(t).length?(0,s.jsx)("p",{children:"No mithril stake distribution available"}):(0,s.jsx)(f.Z,{fluid:!0,children:(0,s.jsx)(h.Z,{xs:1,md:2,lg:3,xl:4,children:t.map((e,t)=>(0,s.jsx)(u.Z,{className:"mb-2",children:(0,s.jsxs)(m.Z,{border:0===t?"primary":"",children:[(0,s.jsxs)(m.Z.Body,{children:[(0,s.jsx)(m.Z.Title,{children:e.hash}),(0,s.jsxs)(v.Z,{variant:"flush",className:"data-list-group",children:[(0,s.jsxs)(v.Z.Item,{children:["Epoch: ",e.epoch]}),e.created_at&&(0,s.jsxs)(v.Z.Item,{children:["Created:"," ",(0,s.jsx)(A,{datetime:e.created_at})]}),(0,s.jsxs)(v.Z.Item,{children:["Certificate hash: ",(0,s.jsx)("br",{}),e.certificate_hash," ",(0,s.jsx)(p.Z,{size:"sm",onClick:()=>{l(e.certificate_hash)},children:"Show"})]})]})]}),(0,s.jsx)(m.Z.Footer,{children:(0,s.jsxs)(o.Z,{direction:"horizontal",gap:1,children:[0===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Z.Z,{bg:"primary",children:"Latest"})," "]}),(0,s.jsx)(I.Z,{href:"".concat(c,"/artifact/mithril-stake-distribution/").concat(e.hash),size:"sm",className:"ms-auto"})]})})]})},e.hash))})})]})]})}var W=r(9064),J=r(7585);let Y=c()(()=>r.e(633).then(r.bind(r,7633)),{loadableGenerated:{webpack:()=>[7633]},ssr:!1}),$=c()(()=>r.e(396).then(r.bind(r,4396)),{loadableGenerated:{webpack:()=>[4396]},ssr:!1});function q(){let e=(0,a.useRouter)(),t=(0,a.useSearchParams)(),r=(0,i.I0)(),[l,c]=(0,n.useState)(!1),j=(0,i.v9)(_.k6);return(0,n.useEffect)(()=>{if(j!==t.get(W.W)){let t=new URLSearchParams;t.set("aggregator",j),c(!0),e.push("?"+t.toString(),void 0,{shallow:!0})}r((0,J.Q9)(j))},[j]),(0,n.useEffect)(()=>{!function(){if(l)c(!1);else{let e=t.get("aggregator");r((0,_.VT)(e))}}()},[t]),(0,s.jsxs)(o.Z,{gap:3,children:[(0,s.jsx)(d.Z,{children:(0,s.jsxs)(h.Z,{xs:1,sm:2,className:"row-gap-2",children:[(0,s.jsx)(Y,{}),(0,s.jsx)($,{})]})}),(0,s.jsxs)(h.Z,{className:"row-gap-3",children:[(0,s.jsx)(u.Z,{xs:12,sm:4,lg:3,xl:2,children:(0,s.jsx)(H,{})}),(0,s.jsx)(u.Z,{xs:12,sm:8,lg:9,xl:10,children:(0,s.jsx)(K,{})})]}),(0,s.jsxs)(g.Z,{defaultActiveKey:"snapshots",children:[(0,s.jsx)(x.Z,{title:"Snapshots",eventKey:"snapshots",children:(0,s.jsx)(G,{})}),(0,s.jsx)(x.Z,{title:"Mithril Stake Distribution",eventKey:"mithrilStakeDistribution",children:(0,s.jsx)(Q,{})}),(0,s.jsx)(x.Z,{title:"Certificates",eventKey:"certificates",children:(0,s.jsx)(T,{})})]})]})}j.kL.register(j.qi,j.uw,j.f$,j.ZL,j.Dx,j.u,j.De),(0,S.hZ)(j.kL)},9792:function(e,t,r){"use strict";r.d(t,{Fw:function(){return i},Q2:function(){return n},hZ:function(){return a}});var s=r(7019);function n(e){let t=e=>e/1e12,r=(null!=e?e:[]).map(e=>t(e.stake));return{labels:["< 1Mâ‚³","â‰¥ 1Mâ‚³ < 10Mâ‚³","â‰¥ 10Mâ‚³ < 25Mâ‚³","â‰¥ 25Mâ‚³ < 50Mâ‚³","â‰¥ 50Mâ‚³ < 75Mâ‚³","â‰¥ 75Mâ‚³ < 100Mâ‚³","â‰¥ 100Mâ‚³"],datasets:[{label:"Number of signers",data:[r.filter(e=>e<1).length,r.filter(e=>e>=1&&e<10).length,r.filter(e=>e>=10&&e<25).length,r.filter(e=>e>=25&&e<50).length,r.filter(e=>e>=50&&e<75).length,r.filter(e=>e>=75&&e<100).length,r.filter(e=>e>100).length]}]}}function i(e){let t=null!=e?e:[];return{labels:t.map(e=>e.party_id),datasets:[{label:"Stake (â‚³)",data:t.map(e=>(0,s.toAda)(e.stake))}]}}function a(e){let t=["rgba(255, 99, 132, 0.2)","rgba(255, 159, 64, 0.2)","rgba(255, 205, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(54, 162, 235, 0.2)","rgba(153, 102, 255, 0.2)","rgba(201, 203, 207, 0.2)"],r=["rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(54, 162, 235)","rgb(153, 102, 255)","rgb(201, 203, 207)"];e.defaults.plugins.legend.display=!1,e.defaults.elements.arc.backgroundColor=t,e.defaults.elements.arc.borderColor=r,e.defaults.elements.arc.borderWidth=1,e.defaults.elements.bar.backgroundColor=t,e.defaults.elements.bar.borderColor=r,e.defaults.elements.bar.borderWidth=1}},1860:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(7437);r(2265);var n=r(1396),i=r.n(n);function a(e){let{href:t,children:r,className:n,disabled:a,...l}=e;return!0===a?n="".concat(n," disabled"):a=!1,(0,s.jsx)(i(),{href:t,"aria-disabled":a,className:"btn btn-primary link-underline-opacity-0 link-light ".concat(n),...l,children:r})}},4171:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var s=r(7437);r(2265);var n=r(7322),i=r(7800),a=r(6716);function l(e){let{partyId:t}=e;return(0,s.jsxs)("span",{className:"text-break",children:[t,(0,s.jsx)(s.Fragment,{children:" "}),(0,s.jsx)(n.Z,{overlay:(0,s.jsx)(i.Z,{children:"Copy"}),children:(0,s.jsx)(a.Z,{variant:"link",onClick:function(){window.isSecureContext&&t&&navigator.clipboard.writeText(t).then(()=>{})},size:"md",className:"p-0",children:(0,s.jsx)("i",{className:"bi bi-copy",style:{color:"black"}})})})]})}r(7019)},3800:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var s=r(7437),n=r(2265),i=r(3046),a=r(7585),l=r(7019),c=r(6691),o=r.n(c),d=r(7322),h=r(7800);function u(e){var t;let{aggregator:r,partyId:c,...u}=e,g=(0,i.v9)(e=>(0,a.Mj)(e,r,c)),[x,j]=(0,n.useState)(void 0);return(0,n.useEffect)(()=>{(null==g?void 0:g.network)?j((0,l.getCExplorerUrlForPool)(g.network,c)):j(void 0)},[c,g.network]),void 0!==x?(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("a",{href:x,target:"_blank",className:"link-dark link-underline-light",children:(0,s.jsx)(d.Z,{overlay:(0,s.jsx)(h.Z,{children:"See in CExplorer"}),children:(0,s.jsxs)("span",{children:[(0,s.jsx)(o(),{src:"/explorer/cexplorer_logo.png",alt:"CExplorer Logo",style:{verticalAlign:"text-top"},width:20,height:20}),(0,s.jsx)(s.Fragment,{children:" "}),null!==(t=g.pool_ticker)&&void 0!==t?t:"Not available"]})})})}):(0,s.jsx)("span",{children:g.pool_ticker})}},825:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var s=r(7437);r(2265);var n=r(7322),i=r(7800),a=r(6716);function l(e){return(0,s.jsx)(n.Z,{overlay:(0,s.jsx)(i.Z,{children:"Raw JSON"}),children:(0,s.jsx)(a.Z,{variant:"outline-secondary",target:"_blank",...e,children:(0,s.jsx)("i",{className:"bi bi-filetype-json",style:{color:"black"}})})})}},7898:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var s=r(7437);r(2265);var n=r(1387),i=r(4171),a=r(657),l=r(3800),c=r(9957);function o(e){let{signers:t,aggregator:r,displayIndexes:o,...d}=e;return(0,s.jsxs)(n.Z,{responsive:!0,striped:!0,...d,children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[void 0!==o&&(0,s.jsx)("th",{children:"#"}),(0,s.jsx)("th",{children:"Party id"}),(0,s.jsx)("th",{children:"Pool Ticker"}),(0,s.jsx)("th",{style:{textAlign:"end"},children:"Stake"})]})}),(0,s.jsx)("tbody",{children:t.map((e,t)=>(0,s.jsxs)("tr",{children:[!0===o&&(0,s.jsx)("td",{children:t}),(0,s.jsxs)("td",{children:[(0,s.jsx)(a.Z,{tooltip:"Verified Signer"})," ",(0,s.jsx)(i.Z,{partyId:e.party_id})]}),(0,s.jsx)("td",{children:(0,s.jsx)(l.Z,{aggregator:r,partyId:e.party_id})}),(0,s.jsx)("td",{style:{textAlign:"end"},children:(0,s.jsx)(c.Z,{lovelace:e.stake})})]},e.party_id))})]})}},9957:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var s=r(7437);r(2265);var n=r(7322),i=r(7800),a=r(7019);function l(e){let{lovelace:t}=e;return(0,s.jsx)(n.Z,{overlay:(0,s.jsxs)(i.Z,{children:[(0,a.formatCurrency)((0,a.toAda)(t),20),"â‚³"]}),children:(0,s.jsx)("span",{children:(0,a.formatStake)(t)})})}},657:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var s=r(7437);r(2265);var n=r(7322),i=r(7800);function a(e){return(0,s.jsx)(n.Z,{overlay:(0,s.jsx)(i.Z,{children:e.tooltip}),children:(0,s.jsx)("a",{href:"#",className:"badge bg-success",children:(0,s.jsx)("i",{className:"bi bi-shield-lock"})})})}},9064:function(e,t,r){"use strict";r.d(t,{W:function(){return s}});let s="aggregator"},7585:function(e,t,r){"use strict";r.d(t,{Mj:function(){return c},Q9:function(){return a},Ux:function(){return i}});var s=r(9686),n=r(8742);let i=(0,s.oM)({name:"pools",initialState:{list:[]},reducers:{},extraReducers:e=>e.addCase(a.fulfilled,(e,t)=>{if(t.payload.keep_cached_data)return;let r=l(e,t.payload.aggregator);r?(r.network=t.payload.network,r.pools=t.payload.pools,r.date=t.payload.date):e.list.push({aggregator:t.payload.aggregator,date:t.payload.date,network:t.payload.network,pools:t.payload.pools})})}),a=(0,s.hg)("pools/updateForAggregator",(e,t)=>{var r;let s=l(t.getState().pools,e),n=Date.now();return n-(null!==(r=null==s?void 0:s.date)&&void 0!==r?r:0)>216e5?fetch("".concat(e,"/signers/tickers")).then(e=>200===e.status?e.json():{}).then(t=>{var r;return{aggregator:e,date:n,network:t.network,pools:null!==(r=t.signers)&&void 0!==r?r:[]}}):{keep_cached_data:!0}}),l=(e,t)=>e.list.find(e=>e.aggregator===t),c=(0,n.P1)([e=>e.pools,(e,t,r)=>({aggregator:t,poolId:r})],(e,t)=>{let r=l(e,t.aggregator),s=null==r?void 0:r.pools.find(e=>e.party_id===t.poolId);return{network:null==r?void 0:r.network,...s}});i.reducer},5047:function(e,t,r){"use strict";r.d(t,{E3:function(){return a},JV:function(){return c},OR:function(){return h},VT:function(){return d},k6:function(){return u},uI:function(){return o},xj:function(){return l}});var s=r(9686),n=r(1487),i=r(7019);let a={autoUpdate:!0,updateInterval:1e4,selectedAggregator:n.Z[0],availableAggregators:n.Z,canRemoveSelected:!1},l=(0,s.oM)({name:"settings",initialState:a,reducers:{setUpdateInterval:(e,t)=>{e.updateInterval=t.payload},toggleAutoUpdate:e=>{e.autoUpdate=!e.autoUpdate},selectAggregator:(e,t)=>{if(!(0,i.checkUrl)(t.payload))return e;let r=e.availableAggregators.includes(t.payload)?e.availableAggregators:[...e.availableAggregators,t.payload];return{...e,selectedAggregator:t.payload,availableAggregators:r,canRemoveSelected:!n.Z.includes(t.payload)}},removeSelectedAggregator:e=>n.Z.includes(e.selectedAggregator)?e:{...e,selectedAggregator:e.availableAggregators.at(0),availableAggregators:e.availableAggregators.filter(t=>t!==e.selectedAggregator),canRemoveSelected:!n.Z.includes(e.availableAggregators.at(0))}}}),{setUpdateInterval:c,toggleAutoUpdate:o,selectAggregator:d,removeSelectedAggregator:h}=l.actions,u=e=>e.settings.selectedAggregator;l.reducer},7019:function(e){let t=e=>e/1e6,r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e.toLocaleString(void 0,{maximumFractionDigits:t})};e.exports={checkUrl:function(e){try{return new URL(e),!0}catch(e){return!1}},formatStake:function(e){let s=t(e),n=[{suffix:"B",value:1e9},{suffix:"M",value:1e6},{suffix:"K",value:1e3},{suffix:"",value:1}].find(e=>Math.abs(s)>=e.value-.001);return n?"".concat(r(s/n.value)).concat(n.suffix,"â‚³"):"".concat(r(s),"â‚³")},toAda:t,formatCurrency:r,formatBytes:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";let r=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,r)).toFixed(t<0?0:t))+" "+["Bytes","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"][r]},formatPartyId:function(e){return("string"==typeof e||e instanceof String)&&e.length>15?e.slice(0,10)+"â€¦"+e.slice(-5):e},getCExplorerUrlForPool:function(e,t){let r;let s="cexplorer.io/pool/".concat(t);switch(e){case"mainnet":r="https://".concat(s);break;case"preprod":r="https://preprod.".concat(s);break;case"preview":r="https://preview.".concat(s)}return r},formatProcessDuration:function(e){let t=performance.now()-e,r=Math.floor(t/6e4),s=Math.floor(t%6e4/1e3);return r>0?"".concat(r," minutes and ").concat(s," seconds"):"".concat(s," seconds")},computeAggregatorNetworkFromUrl:function(e){let t=e.match(/aggregator\.(.*?)\.api/);return t&&t[1]?t[1]:null}}}},function(e){e.O(0,[674,854,967,37,971,938,744],function(){return e(e.s=80)}),_N_E=e.O()}]);