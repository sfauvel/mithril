<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://mithril.network/doc/dev-blog</id>
    <title>Mithril. A complete guide. Blog</title>
    <updated>2024-01-23T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://mithril.network/doc/dev-blog"/>
    <subtitle>Mithril. A complete guide. Blog</subtitle>
    <icon>https://mithril.network/doc/img/logo.svg</icon>
    <entry>
        <title type="html"><![CDATA[Mithril client npm package is released!]]></title>
        <id>https://mithril.network/doc/dev-blog/2024/01/23/mithril-client-npm-package-released</id>
        <link href="https://mithril.network/doc/dev-blog/2024/01/23/mithril-client-npm-package-released"/>
        <updated>2024-01-23T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Mithril client npm is open to developers on npmjs.com]]></summary>
        <content type="html"><![CDATA[<h3 id="mithril-client-npm-is-open-to-developers-on-npmjscom">Mithril client npm is open to developers on npmjs.com</h3>
<p>The Mithril team has published the first release (<strong>v0.1.7)</strong> of its <a href="https://www.npmjs.com/package/@mithril-dev/mithril-client-wasm">mithril-client-wasm</a> npm package on npmjs.com.</p>
<p>The <strong>Mithril client npm package</strong> allows developers to use all the tooling necessary to manipulate Mithril certified types from a Mithril Aggregator directly in their (web) applications and to develop their own Mithril clients in any supported browser!</p>
<p>Here are some useful documentation that can be used by developers:</p>
<ul>
<li><strong>Example of implementations</strong>: <a href="https://mithril.network/doc/manual/developer-docs/nodes/mithril-client-library-wasm">https://mithril.network/doc/manual/developer-docs/nodes/mithril-client-library-wasm</a></li>
<li><strong>Mithril client npm package repository</strong>: <a href="https://github.com/input-output-hk/mithril/tree/main/mithril-client-wasm">https://github.com/input-output-hk/mithril/tree/main/mithril-client-wasm</a></li>
<li><strong>npm</strong>: <a href="https://www.npmjs.com/package/@mithril-dev/mithril-client-wasm">https://www.npmjs.com/package/@mithril-dev/mithril-client-wasm</a></li>
</ul>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq">Discord channel</a> for questions and/or help.</p>]]></content>
        <author>
            <name>Mithril Team</name>
        </author>
        <category label="wasm" term="wasm"/>
        <category label="web assembly" term="web assembly"/>
        <category label="mithril client" term="mithril client"/>
        <category label="library" term="library"/>
        <category label="npm" term="npm"/>
        <category label="registry" term="registry"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Mithril signer service new configuration]]></title>
        <id>https://mithril.network/doc/dev-blog/2024/01/03/signer-service-new-configuration</id>
        <link href="https://mithril.network/doc/dev-blog/2024/01/03/signer-service-new-configuration"/>
        <updated>2024-01-03T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The Mithril signer node service recommended configuration is updated]]></summary>
        <content type="html"><![CDATA[<h3 id="the-mithril-signer-node-service-recommended-configuration-is-updated">The Mithril signer node service recommended configuration is updated</h3>
<p><strong>PR</strong>: <code>Fix signer service recommended configuration</code> <a href="https://github.com/input-output-hk/mithril/pull/1419">#1419</a></p>
<p><strong>Issue</strong>: <code>Fix signer node service setup</code> <a href="https://github.com/input-output-hk/mithril/issues/1404">#1404</a></p>
<p>The previous recommended configuration proposed a service restart frequency which was too high. When the service was restarted, and if the Cardano node was not ready yet, the service tried to restart too many times in a short period: thus the service just failed and the service had to be started manually after the Cardano node is up and ready. This lead to some SPOs skipping registrations for some epochs.</p>
<p>The duration before restarting the service is increased to 60s: <code>RestartSec=60</code>.</p>
<p>Below is the new recommended configuration:</p>
<pre><code>[Unit]
Description=Mithril signer service
StartLimitIntervalSec=0

[Service]
Type=simple
Restart=always
RestartSec=60
User=cardano
EnvironmentFile=/opt/mithril/mithril-signer.env
ExecStart=/opt/mithril/mithril-signer -vvv

[Install]
WantedBy=multi-user.target
EOF'
</code></pre>
<p>We highly recommend to update your existing configuration file (<code>/etc/systemd/system/mithril-signer.service</code>) with the values specified in the <a href="https://mithril.network/doc/next/manual/getting-started/run-signer-node/#installing-the-service">guide</a></p>
<p>‚ö†Ô∏è<!-- --> Following this modification, the service needs to be restarted with the following command:</p>
<pre><code class="language-bash">sudo systemctl restart mithril-signer
</code></pre>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq">Discord channel</a> for questions and/or help.</p>]]></content>
        <author>
            <name>Mithril Team</name>
        </author>
        <category label="spo" term="spo"/>
        <category label="mithril signer" term="mithril signer"/>
        <category label="production" term="production"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Mithril client library is released!]]></title>
        <id>https://mithril.network/doc/dev-blog/2023/11/27/mithril-client-library-released</id>
        <link href="https://mithril.network/doc/dev-blog/2023/11/27/mithril-client-library-released"/>
        <updated>2023-11-27T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Mithril client library is open to developers on crates.io]]></summary>
        <content type="html"><![CDATA[<h3 id="mithril-client-library-is-open-to-developers-on-cratesio">Mithril client library is open to developers on crates.io</h3>
<p>The Mithril team has published the first release (<strong>v0.5.7)</strong> of its <a href="https://crates.io/crates/mithril-client">mithril-client</a> library on crates.io.</p>
<p>The <strong>Mithril client library</strong> allows developers to use all the tooling necessary to manipulate Mithril certified types from a Mithril Aggregator directly in their (Rust) applications and to develop their own Mithril clients!</p>
<p>Here are some useful documentation that can be used by developers:</p>
<ul>
<li><strong>Developer documentation</strong>: <a href="https://docs.rs/mithril-client/0.5.7/mithril_client/">https://docs.rs/mithril-client/0.5.7/mithril_client/</a></li>
<li><strong>Example of implementations</strong>:<a href="https://github.com/input-output-hk/mithril/blob/main/examples/">https://github.com/input-output-hk/mithril/blob/main/examples/</a></li>
<li><strong>Mithril client repository</strong>: <a href="https://github.com/input-output-hk/mithril/tree/main/mithril-client">https://github.com/input-output-hk/mithril/tree/main/mithril-client</a></li>
<li><strong>Crates.io</strong>: <a href="https://crates.io/crates/mithril-client">https://crates.io/crates/mithril-client</a></li>
</ul>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq">Discord channel</a> for questions and/or help.</p>]]></content>
        <author>
            <name>Mithril Team</name>
        </author>
        <category label="spo" term="spo"/>
        <category label="mithril client" term="mithril client"/>
        <category label="library" term="library"/>
        <category label="crates.io" term="crates.io"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Mithril Relay Security Advisory]]></title>
        <id>https://mithril.network/doc/dev-blog/2023/10/10/relay-security-advisory</id>
        <link href="https://mithril.network/doc/dev-blog/2023/10/10/relay-security-advisory"/>
        <updated>2023-10-10T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Mithril relay could expose Cardano block producer internal IP when updated (Security Advisory)]]></summary>
        <content type="html"><![CDATA[<h3 id="mithril-relay-could-expose-cardano-block-producer-internal-ip-when-updated-security-advisory">Mithril relay could expose Cardano block producer internal IP when updated (Security Advisory)</h3>
<p>The Mithril team has published a <a href="https://github.com/input-output-hk/mithril/security/advisories/GHSA-9m3h-72xj-x2gq">security advisory</a> to destination of SPOs running a Mithril signer/relay on the <code>mainnet</code> infrastructure:</p>
<ul>
<li><strong>Identifier</strong>: GHSA-9m3h-72xj-x2gq</li>
<li><strong>Title</strong>: Mithril relay could expose Cardano block producer internal IP when updated</li>
<li><strong>Location</strong>: <a href="https://github.com/input-output-hk/mithril/security/advisories/GHSA-9m3h-72xj-x2gq">https://github.com/input-output-hk/mithril/security/advisories/GHSA-9m3h-72xj-x2gq</a></li>
<li><strong>Severity</strong>: High (7.2/10)</li>
</ul>
<admonition type="danger"><p>We strongly encourage all the <code>mainnet</code> SPOs to update the listening port of their <strong>Mithril relay</strong> in order to prevent the issue, with the process explained in the <strong>Workarounds</strong> section of the <a href="https://github.com/input-output-hk/mithril/security/advisories/GHSA-9m3h-72xj-x2gq">security advisory</a>.</p></admonition>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq">Discord channel</a> for questions and/or help.</p>]]></content>
        <author>
            <name>Mithril Team</name>
        </author>
        <category label="spo" term="spo"/>
        <category label="mithril signer" term="mithril signer"/>
        <category label="mithril relay" term="mithril relay"/>
        <category label="mainnet" term="mainnet"/>
        <category label="production" term="production"/>
        <category label="beta" term="beta"/>
        <category label="security" term="security"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Mithril Protocol‚Äôs Mainnet Beta Launch]]></title>
        <id>https://mithril.network/doc/dev-blog/2023/07/21/mainnet-beta-launch</id>
        <link href="https://mithril.network/doc/dev-blog/2023/07/21/mainnet-beta-launch"/>
        <updated>2023-07-21T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Update 2023/07/30: The first certificates and snapshots have been produced by the release-mainnet network!]]></summary>
        <content type="html"><![CDATA[<p><strong>Update 2023/07/30</strong>: The first certificates and snapshots have been produced by the <code>release-mainnet</code> network!</p>
<p><strong>Update 2023/07/25</strong>: The Genesis certificate of the <code>release-mainnet</code> network has been successfully created.</p>
<h3 id="mithril-protocols-mainnet-beta-is-launched-rocket">Mithril Protocol‚Äôs Mainnet Beta is launched <!-- -->üöÄ</h3>
<p>The Mithril team is thrilled to announce that the <strong>Mithril Protocol‚Äôs Mainnet Beta</strong> is launched <!-- -->üéâ</p>
<p>Here are the next steps that we will follow in order to get the <code>release-mainnet</code> network producing its first certificates:</p>
<ol class="contains-task-list">
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Open the first signers registrations on the <code>release-mainnet</code> network (1 epoch).</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Create the genesis certificate of the <code>release-mainnet</code> network (1 epoch).</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->Wait for the first certificates to be produced by the <code>release-mainnet</code> network.</li>
</ol>
<p><a target="_blank" data-nobrokenlinkcheck="true" href="https://mithril.network/doc/assets/files/mainnet-launch-timeline-f89399ebabf6e728ea740691234d2f50.png"><img alt="Mainnet Beta Launch Timeline" src="https://mithril.network/doc/assets/images/mainnet-launch-timeline-f89399ebabf6e728ea740691234d2f50.png" width="834" height="704"></a></p>
<p>This is an expected timeline, in case of modification, we will amend this post with a new one.</p>
<p>Also, the documentation has been updated with the configuration of the <code>release-mainnet</code> network. It is available <a href="https://mithril.network/doc/manual/developer-docs/references#mithril-networks">here</a>.</p>
<admonition type="danger"><p>As a Cardano SPO, before being able to setup a Mithril signer on the <code>mainnet</code>, it is required to complete the <strong>step 2</strong> of the <a href="https://mithril.network/doc/manual/getting-started/SPO-on-boarding-guide#step-2-get-mithril-ready-for-mainnet">SPO onboarding guide</a></p></admonition>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq">Discord channel</a> for questions and/or help.</p>]]></content>
        <author>
            <name>Mithril Team</name>
        </author>
        <category label="spo" term="spo"/>
        <category label="mithril signer" term="mithril signer"/>
        <category label="mainnet" term="mainnet"/>
        <category label="production" term="production"/>
        <category label="beta" term="beta"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Mithril Signer Deployment Models]]></title>
        <id>https://mithril.network/doc/dev-blog/2023/06/28/signer-deployment-models</id>
        <link href="https://mithril.network/doc/dev-blog/2023/06/28/signer-deployment-models"/>
        <updated>2023-06-28T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The new Mithril Signer Deployment Models for SPOs will be introduced soon]]></summary>
        <content type="html"><![CDATA[<h3 id="the-new-mithril-signer-deployment-models-for-spos-will-be-introduced-soon">The new Mithril Signer Deployment Models for SPOs will be introduced soon</h3>
<p><strong>Epic</strong>: <code>Prepare Mithril Signer deployment model for SPO</code> <a href="https://github.com/input-output-hk/mithril/issues/862">#862</a></p>
<p>‚ö†Ô∏è<!-- --> The Mithril Signer Deployment Models is not deployed yet to the <code>pre-release-preview</code> and <code>release-preprod</code> network. A special announcement will be made on the <strong>moria</strong> Discord channel when a new release candidate distribution is ready.</p>
<p>All these information will be available at the updated <a href="https://mithril.network/doc/manual/getting-started/run-signer-node"><code>Run a Mithril Signer node (SPO)</code></a> guide. In the mean time, a preview of the Mithril signer setup with the <strong>production</strong> deployment model is available <a href="https://mithril.network/doc/next/manual/getting-started/run-signer-node">here</a>. In the new <strong>production</strong> deployment model, a new <strong>Mithril Relay</strong> has been introduced and requires an extra setup effort versus the <strong>naive</strong> deployment model that is currently ran by the pioneer SPOs on the Mithril test networks.</p>
<admonition type="info"><p>We strongly encourage the volunteer SPOs to test the <strong>production</strong> deployment (once it is available of the <code>pre-release-preview</code> network) and to give us their feedback on the setup (clarity of the documentation, if you needed some fixes to make it work, ...).</p></admonition>
<p>Here is the schema of the <strong>production</strong> deployment for the <code>mainnet</code>:
<a target="_blank" data-nobrokenlinkcheck="true" href="https://mithril.network/doc/assets/files/signer-deployment-production-d33184629147bf7b0c79bb731673cd6c.jpg"><img alt="Production Mithril Signer Deployment Model" src="https://mithril.network/doc/assets/images/signer-deployment-production-d33184629147bf7b0c79bb731673cd6c.jpg" width="2179" height="458"></a></p>
<p>and the schema of the <strong>naive</strong> deployment only for the <code>testnet</code>:
<a target="_blank" data-nobrokenlinkcheck="true" href="https://mithril.network/doc/assets/files/signer-deployment-naive-b2092b7ecc1a39c7344fa0cb809c250c.jpg"><img alt="Naive Mithril Signer Deployment Model" src="https://mithril.network/doc/assets/images/signer-deployment-naive-b2092b7ecc1a39c7344fa0cb809c250c.jpg" width="2219" height="450"></a></p>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq">Discord channel</a> for questions and/or help.</p>]]></content>
        <author>
            <name>Mithril Team</name>
        </author>
        <category label="spo" term="spo"/>
        <category label="mithril signer" term="mithril signer"/>
        <category label="deployment model" term="deployment model"/>
        <category label="production" term="production"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Mithril client has got a brand new interface]]></title>
        <id>https://mithril.network/doc/dev-blog/2023/06/14/new-client-interface</id>
        <link href="https://mithril.network/doc/dev-blog/2023/06/14/new-client-interface"/>
        <updated>2023-06-14T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Mithril client interface is evolving]]></summary>
        <content type="html"><![CDATA[<h3 id="mithril-client-interface-is-evolving">Mithril client interface is evolving</h3>
<p>For the last few months, we have implemented the capability for the Mithril protocol to sign multiple types of data: on top of the already existing Cardano node database snapshots, the Mithril stake distribution is now also signed on its own.
In order to make the client able to work on the different types of data that are certified, we have changed its command line API.
For example:</p>
<pre><code>$&gt; ./mithril-client list
</code></pre>
<p>This command was previously used to list Cardano node snapshots. It has been abandoned in favor of a more explicit syntax:</p>
<pre><code>$&gt; ./mithril-client snapshot list
</code></pre>
<p>Furthermore, the old version had two different subcommands to 1. download and 2. verify a snapshot. These 2 commands have now be merged into one single <code>download</code> command:</p>
<pre><code>$&gt; ./mithril-client snapshot download  5109c1eaa6619bc‚Ä¶
</code></pre>
<p>This organization of the client opens the use of a new <code>mithril-stake-distribution</code> sub-command:</p>
<pre><code>$&gt; ./mithril-client mithril-stake-distribution list
</code></pre>
<p>Which can be aliased into a handy</p>
<pre><code>$&gt; ./mithril-client msd list
</code></pre>
<p>As for the Cardano snapshots, it is possible to download and verify the stake distribution involved in Mithril multi-signatures as a JSON file:</p>
<pre><code>$&gt; ./mithril-client msd download 713e2803e998f‚Ä¶
</code></pre>
<p>If the file certification can be verified, it is saved on the disk.</p>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq">Discord channel</a> for questions and/or help.</p>]]></content>
        <author>
            <name>Mithril Team</name>
        </author>
        <category label="client" term="client"/>
        <category label="certificate" term="certificate"/>
        <category label="mithril-stake-distribution" term="mithril-stake-distribution"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Mithril Era Switch]]></title>
        <id>https://mithril.network/doc/dev-blog/2023/03/02/era-switch-feature</id>
        <link href="https://mithril.network/doc/dev-blog/2023/03/02/era-switch-feature"/>
        <updated>2023-03-02T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Update 2023/03/10: The Era Switch behavior has been activated on the release-preprod network.]]></summary>
        <content type="html"><![CDATA[<p><strong>Update 2023/03/10</strong>: The Era Switch behavior has been activated on the <code>release-preprod</code> network.</p>
<p><strong>Update 2023/03/08</strong>: The Era Switch behavior has been activated on the <code>pre-release-preview</code> network.</p>
<h3 id="an-new-era-switch-behavior-will-be-introduced-soon-to-the-mithril-networks">An new Era Switch behavior will be introduced soon to the Mithril networks</h3>
<p><strong>Epic</strong>: <code>Implement eras behavior switch #707](Implement eras behavior switch</code> <a href="https://github.com/input-output-hk/mithril/issues/707">#707</a></p>
<p>‚ö†Ô∏è<!-- --> The Era Switch is not deployed yet to the <code>pre-release-preview</code> and <code>release-preprod</code> network. A special announcement will be made on the <strong>moria</strong> Discord channel when a new release candidate distribution is ready.</p>
<p>In order to guarantee that any breaking change of the Mithril nodes does not break the Certificate Chain and the that new snapshots are consistently produced, the Mithril team has developped an Era Switch Behavior. This mechanism enables to embed new features in the signer and aggregator nodes prior ro releasing them. Also the activation of these new features will take place in a coordinated manner: all the eligible nodes will hot switch to a new era at the same Cardano epoch transition. To do so, the nodes rely on a transaction that is stored on the Cardano chain that provides era markers with the associated activations epochs for the eras.</p>
<p>üî•<!-- --> Activating this feature will require an update of configuration of the signer nodes after updating their binary:</p>
<ul>
<li>The <code>ERA_READER_ADAPTER_TYPE</code> env var must be set to <code>cardano-chain</code></li>
<li>The <code>ERA_READER_ADAPTER_PARAMS</code> env var must be set to the result of the command <code>jq -nc --arg address $(wget -q -O - **YOUR_ERA_READER_ADDRESS**) --arg verification_key $(wget -q -O - **YOUR_ERA_READER_VERIFICATION_KEY**) '{"address": $address, "verification_key": $verification_key}'</code> (the <strong><strong>YOUR_ERA_READER_ADDRESS</strong></strong> and <strong><strong>YOUR_ERA_READER_VERIFICATION_KEY</strong></strong> are values provided in the networks configuration matrix)</li>
</ul>
<p>Here is the configuration values that should be used on <code>pre-release-preview</code>:</p>
<pre><code class="language-bash">ERA_READER_ADAPTER_TYPE=cardano-chain
ERA_READER_ADAPTER_PARAMS={"address":"addr_test1qrv5xfwh043mlc3vk5d97s4nmhxu7cmleyssvhx37gkfyejfe8d38v3vsfgetjafgrsdc49krug8wf04h5rmtengtejqlxrksk","verification_key":"5b35352c3232382c3134342c38372c3133382c3133362c34382c382c31342c3138372c38352c3134382c39372c3233322c3235352c3232392c33382c3234342c3234372c3230342c3139382c31332c33312c3232322c32352c3136342c35322c3130322c39312c3132302c3230382c3134375d"}
</code></pre>
<p>Here is the configuration values that should be used on <code>release-preprod</code>:</p>
<pre><code class="language-bash">ERA_READER_ADAPTER_TYPE=cardano-chain
ERA_READER_ADAPTER_PARAMS={"address":"addr_test1qpkyv2ws0deszm67t840sdnruqgr492n80g3y96xw3p2ksk6suj5musy6w8lsg3yjd09cnpgctc2qh386rtxphxt248qr0npnx","verification_key":"5b35352c3232382c3134342c38372c3133382c3133362c34382c382c31342c3138372c38352c3134382c39372c3233322c3235352c3232392c33382c3234342c3234372c3230342c3139382c31332c33312c3232322c32352c3136342c35322c3130322c39312c3132302c3230382c3134375d"}
</code></pre>
<p>All these information will be available at the updated <a href="https://mithril.network/doc/manual/getting-started/run-signer-node"><code>Run a Mithril Signer node (SPO)</code></a> guide.</p>
<p>Here is a schema that illustrates the era switch behavior:
<a target="_blank" data-nobrokenlinkcheck="true" href="https://mithril.network/doc/assets/files/schema-44673422940a92bbe82f4db8598c5e45.jpg"><img alt="Era Switch Schema" src="https://mithril.network/doc/assets/images/schema-44673422940a92bbe82f4db8598c5e45.jpg" width="1537" height="650"></a></p>
<p>More information is also available at this <a href="https://mithril.network/doc/adr/4">ADR</a>.</p>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq">Discord channel</a> for questions and/or help.</p>]]></content>
        <author>
            <name>Mithril Team</name>
        </author>
        <category label="era" term="era"/>
        <category label="era activation" term="era activation"/>
        <category label="era markers" term="era markers"/>
        <category label="era switch" term="era switch"/>
        <category label="hard fork" term="hard fork"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Mithril Release Process]]></title>
        <id>https://mithril.network/doc/dev-blog/2022/12/05/release-process</id>
        <link href="https://mithril.network/doc/dev-blog/2022/12/05/release-process"/>
        <updated>2022-12-05T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Mithril follows a defined release process]]></summary>
        <content type="html"><![CDATA[<h3 id="mithril-follows-a-defined-release-process">Mithril follows a defined release process</h3>
<p>As the Mithril project grew and more and more SPOs became involved in testing Mithril, it became obvious we need clearer identification of artifacts running on various parts of the network. Moreover, on our road towards mainnet availability we'll need to strengthen our testing process in order to validate Mithril network on more realistic environments.</p>
<h3 id="release-process">Release Process</h3>
<p>We want our release process to follow some basic principles:</p>
<ul>
<li><em>Continuous Integration</em>: New code is integrated into the <code>main</code> codeline frequently which triggers automated build and test process.</li>
<li><em>Continuous Deployment</em>: New artifacts produced by the build process are continuously deployed to a suitable <em>environment</em> where it can be used and tested by an increasing number of parties.</li>
<li><em>Deployment Pipeline</em>: The deployment process is embodied in a <em>pipeline</em> that describes and implements all the necessary steps to release a new version of Mithril.</li>
<li><em>Artifact Promotion</em>: An artifact is built <em>once and only once</em> and is <em>promoted</em> while travelling through the build pipeline.</li>
</ul>
<p>Here is a high-level picture of this process:</p>
<p><a target="_blank" data-nobrokenlinkcheck="true" href="https://mithril.network/doc/assets/files/release_process-a9ce55af510cd542b71e68a485251004.jpg"><img alt="Release Process" src="https://mithril.network/doc/assets/images/release_process-a9ce55af510cd542b71e68a485251004.jpg" width="1220" height="819"></a></p>
<ul>
<li>We will use a custom version based on <a href="https://semver.org/">SemVer</a> for all the crates, binaries and containers of the repository and for the GitHub release.</li>
<li>We release a new distribution every 2 weeks (this duration is subject to changes as the project matures)<!-- -->
<ul>
<li>The released version is named after the year and its week number: <strong>YYWW.patch</strong> (e.g. <code>2250.0</code>).</li>
<li>In case of critical regressions happening in production, a patch version will be released in between "official" releases as a hotfix.</li>
</ul>
</li>
<li>A new version <code>YYWW.0</code> will have the following life cycle:<!-- -->
<ul>
<li>A commit <code>abc123</code> merged on <code>main</code> branch is deployed on the network named <code>testing-preview</code>.</li>
<li>A commit <code>def456</code> tagged with <code>YYWW.0-prerelease</code> is deployed on the network named <code>pre-release-preview</code>.</li>
<li>A GitHub release <code>YYWW.0-prerelease</code> is created and linked with the <code>YYWW.0-prerelease</code> tag and marked as <code>pre-release</code>.</li>
<li>A tag <code>YYWW.0-prerelease</code> is qualified and selected for release or rejected (and replaced by a <code>YYWW.1-prerelease</code> tag if necessary on a <code>fed789</code>).</li>
<li>If the tag <code>YYWW.0-prerelease</code> is selected, a new tag is created and name <code>YYWW.0</code> on the same commit <code>def456</code>.</li>
<li>A GitHub release <code>YYWW.0</code> is created and linked to the <code>YYWW.0</code> tag and marked as <code>release</code>.</li>
<li>The commit <code>def456</code> with tag <code>YYWW.0</code> is deployed to the network named <code>release-preprod</code>.</li>
</ul>
</li>
<li>The <code>Cargo.toml</code> versions of the crates are updated (if required) just before creating the <code>YYWW.0-prerelease</code> tag .</li>
<li>The documentation website is also updated at the same time where the <code>next</code> version becomes the <code>current</code> version, leaving future updates be appended to the <code>next</code> version during the upcoming developments.</li>
<li>In order to simplify the life of Mithril users, we have introduced a version of the <code>Mithril API</code> used between client/signer and aggregators to check if the nodes are able to communicate together (following semver and considering the versions are compatible only if they share the same minor).</li>
<li>Our main distribution artefact is currently docker (OCI) images. We also provide more packages, eg. <code>.deb</code> packages or compiled binaries (some of them available on multiple platforms, e.g. Windows or macOS) to simplify users' life.</li>
<li>We also publish some of our crates on the <code>crates.io</code> registry whenever a new version is created (e.g. <a href="https://crates.io/crates/mithril-stm"><code>mithril-stm</code></a>).</li>
</ul>
<h3 id="networks">Networks</h3>
<ul>
<li>We maintain different Mithril networks (eg. servers, VMs, configurations...) to which artifacts are deployed at various stages of the process:<!-- -->
<ul>
<li><code>testing-preview</code>: This is an internal environment based on the <code>preview</code> cardano testnet where most of the automated tests happen. It is also used to test features as soon as they are merged on the <code>main</code> branch.</li>
<li><code>pre-release-preview</code>: This is a persistent environment based on the <code>preview</code> cardano testnet. SPOs which are active on preview are welcomed to take part in the Mithril signing process and to test new <code>pre-release</code> distributions deployed there.</li>
<li><code>release-preprod</code>: Another persistent environment, based on the <code>preprod</code> cardano testnet, where more SPOs are expected to join and test, updated less frequently (on actual <code>release</code> distributions).</li>
<li>(<em>LATER</em>) <code>mainnet</code>: Production environment where new releases are deployed once qualifed on <code>release-preprod</code>.</li>
</ul>
</li>
</ul>
<h3 id="further-reading">Further Reading</h3>
<ul>
<li>The Mithril developers have redacted an ADR <a href="https://mithril.network/doc/adr/3/">Release process and versioning</a> that also describes more technically this process.</li>
</ul>]]></content>
        <author>
            <name>Mithril Team</name>
        </author>
        <category label="process" term="process"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Mithril environments are updated]]></title>
        <id>https://mithril.network/doc/dev-blog/2022/10/28/updated-environments</id>
        <link href="https://mithril.network/doc/dev-blog/2022/10/28/updated-environments"/>
        <updated>2022-10-28T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The Mithril environments are updated]]></summary>
        <content type="html"><![CDATA[<h3 id="the-mithril-environments-are-updated">The Mithril environments are updated</h3>
<p><strong>PR</strong>: <code>New hosted environments</code> <a href="https://github.com/input-output-hk/mithril/pull/561">#561</a></p>
<p><strong>Issue</strong>: <code>Setup new hosted environments for testing-preview, pre-release-preview and release-preprod) with their terraform and GitHub environments</code> <a href="https://github.com/input-output-hk/mithril/issues/542">#542</a></p>
<p>On Tuesday, November 1st, 2022 the <code>preview</code> Cardano network will be re-spun and will be unavailable for 48h.</p>
<p>In the mean time, the Mitril team is also implementing a new Release Process that will make use of several new environments.</p>
<p>The Mithril testing environments are thus evolving in this context:</p>
<ul>
<li>
<p>The current testing environment that runs on <code>preview</code> network and that most of the Pioneer SPOs are running is <strong>deprecated</strong> and will be decommissioned just after the <code>preview</code> network re-spin.</p>
</li>
<li>
<p>This environment will then be replaced by a new <code>pre-release-preview</code> environment open to SPOs that are eager to test pre releases of the Mithril nodes.</p>
</li>
<li>
<p>A new <code>release-preprod</code> environment has been launched on the <code>preprod</code> Cardano nework and will become the <code>stable</code> environment on which SPOs are encouraged to run their nodes.</p>
</li>
<li>
<p>‚ö†Ô∏è<!-- --> The new <code>release-preprod</code> environment is in <code>unstable</code> status, therefore it is subject to re-genesis. We expect it to be in <code>stable</code> status within 1-2 weeks.</p>
</li>
</ul>
<p>In the future, when Mithril reaches <code>mainnet</code>, we assume that the <code>release-preprod</code> will be replaced by a <code>release-mainnet</code> environment. This means that we will have the following environments at this time: <code>testing-preview</code>, <code>pre-release-preprod</code> and <code>release-mainnet</code>.</p>
<p>More information about:</p>
<ul>
<li>
<p>The <code>Mithril Networks</code> and their availability <a href="https://mithril.network/doc/manual/developer-docs/references#mithril-networks">here</a>.</p>
</li>
<li>
<p>The <code>Release Process</code> is available in this <a href="https://mithril.network/doc/adr/3">ADR</a>.</p>
</li>
</ul>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq">Discord channel</a> for questions and/or help.</p>]]></content>
        <author>
            <name>Mithril Team</name>
        </author>
        <category label="release-process" term="release-process"/>
        <category label="re-spin" term="re-spin"/>
        <category label="preview" term="preview"/>
        <category label="preprod" term="preprod"/>
        <category label="environments" term="environments"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Mithril Keys Certification]]></title>
        <id>https://mithril.network/doc/dev-blog/2022/10/11/keys-certification-badge</id>
        <link href="https://mithril.network/doc/dev-blog/2022/10/11/keys-certification-badge"/>
        <updated>2022-10-11T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Update 2022/12/19: The signer registration with declarative PoolId has been decommissioned.]]></summary>
        <content type="html"><![CDATA[<p><strong>Update 2022/12/19</strong>: The signer registration with <strong>declarative</strong> PoolId has been decommissioned.</p>
<p><strong>Update 2022/11/30</strong>: The signer registration with <strong>declarative</strong> PoolId has been deprecated and the <strong>certified</strong> PoolId is now the stable mode.</p>
<h3 id="the-way-the-mithril-nodes-handle-the-certification-of-the-spos-is-evolving">The way the Mithril nodes handle the Certification of the SPOs is evolving</h3>
<p><strong>PR</strong>: <code>New STM registration procedure</code> <a href="https://github.com/input-output-hk/mithril/pull/433">#433</a></p>
<p><strong>Issues</strong>: <code>Implement Certification of the Mithril Verification Keys in Signer/Aggregator</code> <a href="https://github.com/input-output-hk/mithril/issues/455">#455</a></p>
<p>We have released a new Mithril Signer Verification Keys Certification mechanism:</p>
<ul>
<li>Mithril Signer nodes running the previous version are still able to interact with the network without any further intervention</li>
<li>Mithril Signer nodes that are updated from a previous version must migrate some of their stores</li>
<li>This mechanism is <strong>experimental</strong> and can be activated on demand by the SPOs</li>
</ul>
<h4 id="upgrade-a-mithril-signer-running-a-previous-version">Upgrade a Mithril Signer running a previous version</h4>
<p>The SPOs need to recompile their Signer node (as in this <a href="https://mithril.network/doc/manual/getting-started/run-signer-node">guide</a>).</p>
<p>The data stores of the node need to be updated by running the following command:</p>
<pre><code class="language-bash"># The path to your data stores directory, which defaults to:
DATA_STORES_DIRECTORY=/opt/mithril/stores

# Run this command to upgrade your stores:
sqlite3 ${DATA_STORES_DIRECTORY}/signer.sqlite3 "UPDATE protocol_initializer SET value = json_object('stm_initializer', json(value), 'kes_signature', null) WHERE json_extract(value, '$.stm_initializer') IS NULL;"
</code></pre>
<p>‚ö†Ô∏è<!-- --> If you don't update your data stores with this procedure, your node will not be able to register to the Aggregator temporarily. It should then take up to <code>3</code> epochs before it is able to successfully register its individual signatures with the Aggregator.</p>
<h4 id="hybrid-certification-mode-in-the-mithril-network">Hybrid Certification mode in the Mithril network</h4>
<p>From now, SPOs can either run their node by:</p>
<ul>
<li>
<p><strong>Declaring their Cardano <code>PoolId</code></strong>:</p>
<ul>
<li>This is the mode that all nodes were running prior to this release</li>
<li>This mode is still the <strong>stable</strong> mode</li>
<li>We intend to deprecate this mode in the near future</li>
</ul>
</li>
<li>
<p><strong>Certifying their Cardano <code>PoolId</code></strong>:</p>
<ul>
<li>The certification is done by providing the Mithril Signer node with <code>KES Secret Key Path</code> and <code>Operational Certificate Path</code></li>
<li>This is an <strong>experimental</strong> mode</li>
<li>We intend to make this mode the only way of providing a <code>PoolId</code> in the near future</li>
<li>These <code>PoolIds</code> will be marked with a <code>Verified Signer</code> green badge in the <a href="https://mithril.network/explorer/">Mithril Explorer</a> (<code>2</code> epochs after activating the Certification mode)</li>
</ul>
</li>
</ul>
<p>The setup of a Mithril Signer node with these two modes is available in this <a href="https://mithril.network/doc/manual/getting-started/run-signer-node">guide</a>.</p>
<p>Here is an example of the <code>Verified Signer</code> badge displayed in the Certificate details popin:
<img alt="Verified Signer Badge" src="https://mithril.network/doc/assets/images/badge-d830657d3818b56eb6d9dd154085e753.png" width="550" height="221"></p>
<h4 id="how-keys-certification-works">How Keys Certification works</h4>
<p>We rely on the Cardano <code>KES Keys</code> and <code>Operational Certificate</code> to be able to:</p>
<ul>
<li>Compute automatically the <code>PoolId</code> from a valid <code>Operational Certificate</code></li>
<li>Sign the <code>Mithril Signer Verification Key</code> with the <code>KES Secret Key</code></li>
<li>Verify that the <code>Mithril Signer Verification Key</code> is associated to the owner of the pool</li>
</ul>
<p><img alt="Keys Certification Schema" src="https://mithril.network/doc/assets/images/schema-2bb1f4c4f967eddf4006f3acb8dbcb88.jpg" width="1134" height="881"></p>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq">Discord channel</a> for questions and/or help.</p>]]></content>
        <author>
            <name>Mithril Team</name>
        </author>
        <category label="cardano" term="cardano"/>
        <category label="poolId" term="poolId"/>
        <category label="operational-certificate" term="operational-certificate"/>
        <category label="kes-keys" term="kes-keys"/>
        <category label="mithril-keys" term="mithril-keys"/>
        <category label="hybrid-mode" term="hybrid-mode"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Mithril internal stores switch to SQLite.]]></title>
        <id>https://mithril.network/doc/dev-blog/2022/09/14/sqlite-stores</id>
        <link href="https://mithril.network/doc/dev-blog/2022/09/14/sqlite-stores"/>
        <updated>2022-09-14T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[What is that?]]></summary>
        <content type="html"><![CDATA[<h2 id="what-is-that">What is that?</h2>
<p>Since almost the beginning of the Mithril project, the software used to rely on a store mechanism to save its different states allowing Signers and Aggregators to resume on correct state when switched on and off. This internal store mechanism used to be a bunch of JSON files saved in a given directory. Even though this does the job it still presents flaws: data are hard to query when debugging especially when crossing data (which signers have participated in this multi-signature?). Also, data are stored in different places which can be a problem when moving these files from one place to another. We also had to imagine what would be a migration scenario in case of a structure change. Switching to a file based SQL database solves these issues.</p>
<p>The new release now uses SQLite stores in place of JSON file storage. This means that to continue running a Signer or an Aggregator node it is necessary to migrate from the old storage system to SQLite. This release comes with a tool to perform the migration which should be as straightforward as launching a command line (read below). The migration tool will be available only for a limited time in order to make Mithril beta testers able to migrate their existing data.</p>
<h2 id="how-to-migrate-data-from-old-storage-system-to-sqlite-stores">How to migrate data from old storage system to SQLite stores?</h2>
<p>There are 2 ways of getting the new version and the associated migration tool. Either downloading binaries from GitHub or compiling them yourself.</p>
<h3 id="downloading">Downloading</h3>
<p>Download the new <code>mithril-signer</code> and <code>mithril-signer-migrate</code> files from the <a href="https://github.com/input-output-hk/mithril/releases/tag/unstable">nightly builds page</a>. Make them executable:</p>
<pre><code>$&gt; chmod +x mithril-signer*
$&gt; ls -1F mithril-signer*
mithril-signer*
mithril-signer-migrate*
</code></pre>
<p><em>note</em>: the suffix <code>*</code> appended to the the entries output above indicates the file is executable. If it is not present, ensure the <code>chmod</code> command does not produce any error.</p>
<h3 id="compiling">Compiling</h3>
<p>If you used to compile your node as stated in the <a href="https://mithril.network/doc/manual/getting-started/run-signer-node">guide</a>, you have to compile the migration tool as well:</p>
<pre><code>$&gt; cd mithril-signer
$&gt; cargo build --all-targets --release
  Compiling mithril-signer v0.1.0 (/home/somebody/shared/mithril/mithril-signer)
    Finished release [optimized] target(s) in 4.56s
$&gt; ls -1F ../target/release/mithril-signer*
../target/release/mithril-signer*
../target/release/mithril-signer.d
../target/release/mithril-signer-migrate*
../target/release/mithril-signer-migrate.d
</code></pre>
<h3 id="running-the-migration">Running the migration</h3>
<p>The first step is to stop the running Mithril node if any. The <code>mithril-signer-migrate</code> executable can perform the migration automatically once you know where your actual JSON files are located. Have a look in your configuration file (default <code>/opt/mithril/mithril-signer.env</code>), check the value associated with the <code>DATA_STORES_DIRECTORY</code> key (default to <code>/opt/mithril/stores</code>) and copy the path indicated here. Copy this path after the <code>--db-dir</code> option on the following command line:</p>
<pre><code>$&gt; ./mithril-signer-migrate automatic --db-dir /paste/the/data/stores/directory/here
Mithril Aggregator JSON ‚Üí SQLite migration tool.
Migrating protocol_initializer_store data‚Ä¶
OK ‚úì
Migrating stake_store data‚Ä¶
OK ‚úì
</code></pre>
<p>At the end of this command, a file <code>signer.sqlite3</code> (or <code>aggregator.sqlite3</code> if you run an Aggregator) should be present in the specified base directory.</p>
<p>That should be enough, launch your upgraded mithril node.</p>
<p><strong>Note:</strong> The migration executable does not remove the old JSON files from the disk.</p>
<h3 id="manual-migration-process">Manual migration process</h3>
<p>The executable also provides a <code>manual</code> switch for migrating Mithril JSON store directories placed in custom directories. This is mainly intended for developers who work on tweaked environments. Each internal store has its own data structure. In order to correctly migrate and process data, the type of the store has to be given on the command line.</p>
<pre><code>$&gt; ./mithril-signer-migrate manual --help
</code></pre>
<p>The command above should give you all informations needed to run a custom store migration.</p>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq">Discord channel</a> for questions and/or help.</p>]]></content>
        <author>
            <name>Mithril Team</name>
        </author>
        <category label="store" term="store"/>
        <category label="sqlite" term="sqlite"/>
        <category label="breaking-change" term="breaking-change"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Stake Distribution retrieval fixed]]></title>
        <id>https://mithril.network/doc/dev-blog/2022/09/13/stake-distribution-retrieval</id>
        <link href="https://mithril.network/doc/dev-blog/2022/09/13/stake-distribution-retrieval"/>
        <updated>2022-09-13T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Update the computation now relies on the new cardano-cli query stake-snapshot --all-stake-pools command that retrieves the Stake Distribution all at once and that is way faster. Prior versions of the Cardano node 1.35+ are backward compatible and will keep implementing the algorithm detailed below.]]></summary>
        <content type="html"><![CDATA[<p><strong>Update</strong>: The Stake Distribution computation is evolving with the release of Cardano node <code>8.0.0</code>: the computation now relies on the new <code>cardano-cli query stake-snapshot --all-stake-pools</code> command that retrieves the Stake Distribution all at once and that is way faster. Prior versions of the Cardano node <code>1.35+</code> are backward compatible and will keep implementing the algorithm detailed below.</p>
<h3 id="the-way-the-mithril-nodes-retrieve-the-stake-distribution-is-changing">The way the Mithril nodes retrieve the Stake Distribution is changing</h3>
<p><strong>PR</strong>: <code>Fix Stake Distribution retrieval</code> <a href="https://github.com/input-output-hk/mithril/pull/499">#499</a></p>
<p><strong>Issue</strong>: <code>Stake distribution discrepancy</code> <a href="https://github.com/input-output-hk/mithril/issues/497">#497</a></p>
<p>We have noticed that the way the Mithril nodes computed the <code>Stake Distribution</code> was erroneous: the epoch that was used to make the computation was the <strong>current epoch</strong> instead of the <strong>previous epoch</strong>. This has lead to some de-synchronization between the Signers and the hosted GCP Aggregator for a few epochs.</p>
<p>Indeed, the <code>Stake Distribution</code> retrieved from the Cardano node depended on the time at which it was done: the nodes where having differents values that prevented them from being able to work together to produce valid multi-signatures. The problem is related to the epoch that is used (<strong>current epoch</strong>) to make the computation of the <code>Stake Distribution</code> when the <code>cardano-cli query stake-distribution</code> command is ran, whereas the Mithril protocol needs to work with the <strong>previous epoch</strong>.</p>
<p>A workaround is being implemented in this fix that will compute differently the <code>Stake Distribution</code> to target the <strong>previous epoch</strong>. To do so, the Stake value that is now retrieved sequentially for each pool available in the <code>cardano-cli query stake-distribution</code> by using the command <code>cardano-cli query stake-snapshot --stake-pool-id **pool-id*</code>. This guarantees that the <code>Stake Distribution</code> is computed deterministically on all nodes of the Mithril Network.</p>
<p>We will continue our efforts to enhance the way the <code>Stake Distribution</code> is retrieved in the future, and so that it works smoothly on the <code>mainnet</code> (where the numbers of pools is bigger <code>~3,000</code> vs <code>~100</code> on the <code>preview</code> network).</p>
<p>The SPOs need to recompile their Signer node in order to compute correctly the <code>Stake Distributions</code> on their node (as in this <a href="https://mithril.network/doc/manual/getting-started/run-signer-node">guide</a>).
It should then take up to <code>2</code> epochs before they are able to successfully register their individual signatures with the Aggregator.</p>
<p>More information about the <code>Certificate Chain</code> and the epochs retrieval requirements is available <a href="https://mithril.network/doc/mithril/mithril-protocol/certificates">here</a>.</p>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq">Discord channel</a> for questions and/or help.</p>]]></content>
        <author>
            <name>Mithril Team</name>
        </author>
        <category label="stake-distribution" term="stake-distribution"/>
        <category label="certificate" term="certificate"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Signers list computation in Certificates]]></title>
        <id>https://mithril.network/doc/dev-blog/2022/09/12/certificate-signers-list</id>
        <link href="https://mithril.network/doc/dev-blog/2022/09/12/certificate-signers-list"/>
        <updated>2022-09-12T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The way the Signers list is computed inside a Certificate on the Mithril Aggregator is changing]]></summary>
        <content type="html"><![CDATA[<h3 id="the-way-the-signers-list-is-computed-inside-a-certificate-on-the-mithril-aggregator-is-changing">The way the Signers list is computed inside a Certificate on the Mithril Aggregator is changing</h3>
<p><strong>PR</strong>: <code>Implement filtered Signers in Certificate</code> <a href="https://github.com/input-output-hk/mithril/pull/494">#494</a></p>
<p><strong>Issue</strong>: <code>Record 'contributing' Signers only in Certificate</code> <a href="https://github.com/input-output-hk/mithril/issues/495">#495</a></p>
<p>Before this change, the list of Signers displayed in the <code>Certificate</code> detail of the <a href="https://mithril.network/explorer/">Mithril Explorer</a> was the list of <strong>all eligible</strong> Signers of the epoch used for signing (those who have successfully registered with the Mithril Aggregator <code>2</code> epochs earlier).</p>
<p>Now that this change has been merged, the list of Signers displayed will only include the <strong>contributing</strong> Signers, which means only those who have successfully sent individual signatures.</p>
<p>Note that the already existing <code>Certificates</code> will not be updated as this would break the <code>Certificate Chain</code> and therefore would involve the bootstraping of a new <code>Genesis Certificate</code>.</p>
<p>This change is transparent to the Signer nodes runned by the SPOs and does not require any specific action from them.</p>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq">Discord channel</a> for questions and/or help.</p>]]></content>
        <author>
            <name>Mithril Team</name>
        </author>
        <category label="certificate" term="certificate"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Genesis Certificate support added]]></title>
        <id>https://mithril.network/doc/dev-blog/2022/09/07/genesis-certificate-feature</id>
        <link href="https://mithril.network/doc/dev-blog/2022/09/07/genesis-certificate-feature"/>
        <updated>2022-09-07T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Update: The PR has been merged and the feature is being deployed on the GCP Mithril Aggregator.]]></summary>
        <content type="html"><![CDATA[<p><strong>Update</strong>: The PR has been merged and the feature is being deployed on the GCP Mithril Aggregator.</p>
<h3 id="this-afternoon-we-plan-to-merge-the-pr-that-activates-the-genesis-certificate-feature-on-the-gcp-mithril-aggregator">This afternoon, we plan to merge the PR that activates the Genesis Certificate feature on the GCP Mithril Aggregator</h3>
<p><strong>PR</strong>: <code>Implement Real Genesis Certificate</code> <a href="https://github.com/input-output-hk/mithril/pull/438">#438</a></p>
<p><strong>Issue</strong>: <code>Bootstrap Certificate Chain w/ Genesis Certificate</code> <a href="https://github.com/input-output-hk/mithril/issues/364">#364</a></p>
<p>This will involve some manual operations that will prevent temporarily the service to be running:</p>
<ul>
<li>
<p>We will have to reset the stores of the <code>Snapshots</code> and <code>Certificates</code>. This means that the <a href="https://mithril.network/explorer/">Mithril Explorer</a> will display a <code>No snapshot available</code> message.</p>
</li>
<li>
<p>The Mithril Signers will have to wait until the next epoch <code>#30</code> to be able to sign. This means that we should see the first available <code>Snapshot</code> 1 hour after the epoch transition.</p>
</li>
</ul>
<p>The SPOs that are currently running a Mithril Signer will have to recompile their node in order ot take advantage of the latest improvements (such as the registration of the nodes that will take few minutes instead of few hours). However, the previously compiled node will be able to contribute to signatures.</p>
<p>In order to restore a Mithril Snapshot, a Mithril Client will now need access to the <code>Genesis Verification Key</code> by adding an environment variable when running: <code>GENESIS_VERIFICATION_KEY=$(wget -q -O - https://raw.githubusercontent.com/input-output-hk/mithril/main/TEST_ONLY_genesis.vkey)</code>.</p>
<p>Feel free to reach out to us on the <a href="https://discord.gg/5kaErDKDRq">Discord channel</a> for questions and/or help.</p>]]></content>
        <author>
            <name>Mithril Team</name>
        </author>
        <category label="genesis" term="genesis"/>
        <category label="certificate" term="certificate"/>
        <category label="breaking-change" term="breaking-change"/>
    </entry>
</feed>